<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Appointment | MediCare+</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/css/modern.css">
    <link rel="stylesheet" href="/css/buttons.css">
    <link rel="stylesheet" href="/css/forms.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/mobile-responsive.css">
    
    <style>
        /* Modern Navigation Styles */
        .modern-navbar {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 60px;
            padding: 12px 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            max-width: 90vw;
        }

        .modern-navbar:hover {
            transform: translateX(-50%) translateY(-2px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        .navbar-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 2rem;
        }

        .navbar-brand {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
            font-size: 1.4rem;
            font-weight: 800;
            color: #1a1a1a;
            transition: all 0.3s ease;
        }

        .navbar-brand:hover {
            transform: scale(1.05);
        }

        .navbar-brand i {
            font-size: 1.8rem;
            color: #007BFF;
            filter: drop-shadow(0 0 8px rgba(0, 123, 255, 0.3));
        }

        .brand-accent {
            color: #007BFF;
            filter: drop-shadow(0 0 4px rgba(0, 123, 255, 0.2));
        }

        .navbar-nav {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
            color: #6b7280;
            font-weight: 600;
            font-size: 0.9rem;
            padding: 12px 16px;
            border-radius: 30px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(0, 123, 255, 0.1), rgba(0, 86, 179, 0.1));
            opacity: 0;
            transition: all 0.3s ease;
            border-radius: 30px;
        }

        .nav-link:hover::before {
            opacity: 1;
        }

        .nav-link:hover {
            color: #007BFF;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 123, 255, 0.2);
            filter: drop-shadow(0 0 12px rgba(0, 123, 255, 0.3));
        }

        .nav-link i {
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .nav-link:hover i {
            filter: drop-shadow(0 0 8px rgba(0, 123, 255, 0.4));
        }

        .navbar-auth {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .google-sign-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 14px 48px;
            background: linear-gradient(135deg, #007BFF, #0056b3);
            color: white;
            text-decoration: none;
            border-radius: 30px;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 123, 255, 0.2);
            min-width: 160px;
            justify-content: center;
        }

        .google-sign-btn:hover {
            background: linear-gradient(135deg, #0056b3, #003d82);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 123, 255, 0.4);
            filter: drop-shadow(0 0 12px rgba(0, 123, 255, 0.5));
        }

        .google-sign-btn i {
            font-size: 1.1rem;
        }

        /* Mobile Menu Toggle */
        .mobile-toggle {
            display: none;
            flex-direction: column;
            gap: 0.25rem;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.5rem;
            transition: all 0.3s ease;
        }

        .mobile-toggle span {
            width: 24px;
            height: 3px;
            background: linear-gradient(135deg, #007BFF, #0056b3);
            border-radius: 2px;
            transition: all 0.3s ease;
        }

        .mobile-toggle:hover span {
            box-shadow: 0 0 8px rgba(0, 123, 255, 0.5);
        }

        /* Mobile Side Menu - RIGHT SIDE */
        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            right: -100%;
            width: 320px;
            height: 100vh;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            z-index: 9999;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            -webkit-backdrop-filter: blur(20px);
            box-shadow: -4px 0 32px rgba(0, 0, 0, 0.15);
            border-left: 1px solid rgba(0, 0, 0, 0.1);
        }

        .mobile-menu-overlay.active {
            right: 0;
        }

        /* Push navbar back when menu opens */
        .modern-navbar.menu-open {
            transform: translateX(-50%) translateX(-320px);
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .mobile-menu-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.5);
            z-index: 9998;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            backdrop-filter: blur(4px);
        }

        .mobile-menu-backdrop.active {
            opacity: 1;
            visibility: visible;
        }

        .mobile-menu-overlay.active {
            display: flex;
            opacity: 1;
        }

        .mobile-menu-content {
            display: flex;
            flex-direction: column;
            width: 100%;
            height: 100%;
            padding: 2rem;
            color: #333;
            position: relative;
        }

        .mobile-menu-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 3rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid rgba(0, 123, 255, 0.1);
        }

        .mobile-menu-brand {
            font-size: 1.5rem;
            font-weight: 800;
            color: #333;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .mobile-menu-brand i {
            font-size: 1.8rem;
            background: linear-gradient(135deg, #007BFF, #0056b3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .mobile-nav-links {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-bottom: 2rem;
            flex: 1;
        }

        .mobile-nav-link {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.25rem;
            color: #4a5568;
            text-decoration: none;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 16px;
            transition: all 0.3s ease;
            background: transparent;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .mobile-nav-link::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, #00d2ff, #3a7bd5);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: -1;
        }

        .mobile-nav-link:hover::before {
            opacity: 0.1;
        }

        .mobile-nav-link:hover {
            color: #007BFF;
            border-color: rgba(0, 123, 255, 0.3);
            transform: translateX(8px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }

        .mobile-nav-link.active {
            color: #007BFF;
            background: rgba(0, 123, 255, 0.1);
            border-color: rgba(0, 123, 255, 0.3);
        }

        .mobile-nav-link i {
            font-size: 1.3rem;
            width: 24px;
            text-align: center;
            background: linear-gradient(135deg, #00d2ff, #3a7bd5);
            padding: 12px;
            border-radius: 8px;
            color: white;
            transition: all 0.3s ease;
        }

        .mobile-nav-link:hover i {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }

        .mobile-auth-section {
            padding-top: 1.5rem;
            border-top: 2px solid rgba(0, 123, 255, 0.1);
        }

        .mobile-auth-btn {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.4rem 2rem;
            background: linear-gradient(135deg, #007BFF, #0056b3);
            color: white;
            text-decoration: none;
            border-radius: 16px;
            font-weight: 700;
            font-size: 1rem;
            transition: all 0.3s ease;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0, 123, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .mobile-auth-btn::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, #00d2ff, #3a7bd5);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: -1;
        }

        .mobile-auth-btn:hover::before {
            opacity: 1;
        }

        .mobile-auth-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 123, 255, 0.4);
        }

        .mobile-auth-btn i {
            font-size: 1.2rem;
        }

        .mobile-close {
            background: rgba(0, 0, 0, 0.05);
            border: none;
            color: #4a5568;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 0.75rem;
            border-radius: 50%;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mobile-close:hover {
            background: rgba(255, 0, 0, 0.1);
            color: #f5576c;
            transform: rotate(90deg) scale(1.1);
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .navbar-nav {
                gap: 0.3rem;
            }
            
            .nav-link span {
                display: none;
            }
            
            .nav-link {
                padding: 10px;
                border-radius: 50%;
                width: 45px;
                height: 45px;
                justify-content: center;
            }
        }

        @media (max-width: 768px) {
            .navbar-nav,
            .navbar-auth {
                display: none;
            }
            
            .mobile-toggle {
                display: flex;
            }
            
            .modern-navbar {
                top: 15px;
                left: 15px;
                right: 15px;
                transform: none;
                border-radius: 25px;
                padding: 15px 20px;
            }
            
            .modern-navbar.menu-open {
                transform: translateX(-320px);
            }
            
            .mobile-menu-overlay {
                width: 280px;
            }
            
            .modern-navbar.menu-open {
                transform: translateX(-50%) translateX(-280px);
            }
        }

        @media (max-width: 480px) {
            .mobile-menu-overlay {
                width: 260px;
            }
            
            .modern-navbar.menu-open {
                transform: translateX(-50%) translateX(-260px);
            }
            
            .mobile-menu-content {
                padding: 1.5rem;
            }
            
            .mobile-menu-header {
                margin-bottom: 2rem;
                padding-bottom: 1rem;
            }
            
            .mobile-menu-brand {
                font-size: 1.3rem;
            }
            
            .mobile-nav-links {
                gap: 0.5rem;
                margin-bottom: 1.5rem;
            }
            
            .mobile-nav-link {
                font-size: 0.95rem;
                padding: 0.75rem 1rem;
            }
            
            .mobile-nav-link i {
                font-size: 1.1rem;
                padding: 10px;
            }
            
            .mobile-auth-btn {
                font-size: 0.95rem;
                padding: 0.75rem 1rem;
            }
            
            .mobile-close {
                font-size: 1.3rem;
                width: 42px;
                height: 42px;
                padding: 0.6rem;
            }
        }

        /* Active States */
        .nav-link.active {
            color: #007BFF;
            background: rgba(0, 123, 255, 0.1);
            box-shadow: 0 4px 15px rgba(0, 123, 255, 0.2);
        }

        .nav-link.active::before {
            opacity: 1;
        }

        /* Modern Footer Styles */
        .modern-footer {
            background: linear-gradient(135deg, #1a1a1a, #2d2d2d);
            color: #ffffff;
            margin-top: 5rem;
            padding: 4rem 0 2rem;
            position: relative;
            overflow: hidden;
        }

        .modern-footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: -50%;
            width: 200%;
            height: 1px;
            background: linear-gradient(90deg, transparent, #007BFF, transparent);
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .footer-main {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr 300px;
            gap: 3rem;
            margin-bottom: 3rem;
            padding-bottom: 3rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-section h4 {
            font-size: 1.2rem;
            font-weight: 700;
            color: #ffffff;
            margin-bottom: 1.5rem;
            position: relative;
        }

        .footer-section h4::after {
            content: '';
            position: absolute;
            bottom: -0.5rem;
            left: 0;
            width: 30px;
            height: 2px;
            background: linear-gradient(135deg, #007BFF, #0056b3);
        }

        .footer-links {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .footer-links a {
            color: #b3b3b3;
            text-decoration: none;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            padding: 0.2rem 0;
        }

        .footer-links a:hover {
            color: #007BFF;
            transform: translateX(5px);
            filter: drop-shadow(0 0 5px rgba(0, 123, 255, 0.3));
        }

        .footer-contact {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .social-icons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .social-link {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 1.3rem;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .social-link.facebook { color: #1877f2; }
        .social-link.twitter { color: #1da1f2; }
        .social-link.linkedin { color: #0077b5; }
        .social-link.youtube { color: #ff0000; }

        .social-link:hover {
            transform: translateY(-3px) scale(1.1);
            box-shadow: 0 8px 25px rgba(0, 123, 255, 0.3);
            background: rgba(255, 255, 255, 0.2);
        }

        .contact-info p {
            color: #b3b3b3;
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 0.5rem;
        }

        .contact-phone {
            color: #007BFF;
            font-size: 1.1rem;
            font-weight: 600;
            margin-top: 1rem;
        }

        .footer-bottom {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .footer-brand {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            font-size: 1.8rem;
            font-weight: 800;
            color: #ffffff;
        }

        .footer-brand i {
            font-size: 2.4rem;
            color: #007BFF;
            filter: drop-shadow(0 0 8px rgba(0, 123, 255, 0.3));
        }

        .footer-copyright {
            color: #888;
            font-size: 0.9rem;
        }

        /* Footer Responsive Design */
        @media (max-width: 1024px) {
            .footer-main {
                grid-template-columns: 1fr 1fr;
                gap: 2rem;
            }
            
            .footer-contact {
                grid-column: span 2;
                text-align: center;
            }
        }

        @media (max-width: 768px) {
            .footer-main {
                grid-template-columns: 1fr;
                gap: 2rem;
                text-align: center;
            }
            
            .footer-contact {
                grid-column: span 1;
            }
            
            .footer-bottom {
                flex-direction: column;
                text-align: center;
            }
        }

        /* Clean Responsive Design */
        body {
            background: #f8fafc;
            min-height: 100vh;
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
        }

        .appointment-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 100px 16px 40px;
            min-height: 100vh;
        }

        /* Page Hero Section */
        .page-hero {
            background: linear-gradient(135deg, #e7f3ff 0%, white 100%);
            padding: 2rem 0;
            margin-bottom: 2rem;
            border-radius: 20px;
            position: relative;
            overflow: hidden;
            text-align: center;
        }

        .page-hero::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 300px;
            height: 100%;
            background: radial-gradient(circle at center, rgba(0, 123, 255, 0.1) 0%, transparent 70%);
            z-index: 1;
        }

        .hero-container {
            max-width: 1000px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
            padding: 1rem 2rem;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: #cce7ff;
            color: #007BFF;
            padding: 8px 16px;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .hero-title {
            font-size: clamp(1.8rem, 4vw, 2.5rem);
            font-weight: 800;
            color: #1e293b;
            margin-bottom: 0.5rem;
        }

        .hero-title .highlight {
            color: #007BFF;
        }

        .hero-subtitle {
            font-size: 1rem;
            color: #64748b;
            max-width: 600px;
            margin: 0 auto 2rem;
            line-height: 1.6;
        }

        .hero-features {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2rem;
            max-width: 900px;
            margin: 0 auto;
        }

        .hero-feature {
            background: rgba(255, 255, 255, 0.9);
            padding: 2rem 1.5rem;
            border-radius: 15px;
            border: 1px solid rgba(0, 123, 255, 0.1);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 123, 255, 0.1);
        }

        .hero-feature:hover {
            transform: translateY(-5px);
            border-color: rgba(0, 123, 255, 0.3);
            box-shadow: 0 8px 30px rgba(0, 123, 255, 0.3);
            background: linear-gradient(135deg, rgba(0, 123, 255, 0.1), rgba(0, 86, 179, 0.05));
        }

        .hero-feature-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #007BFF, #66b3ff);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.5rem;
            color: white;
        }

        .hero-feature-title {
            font-size: 1rem;
            font-weight: 600;
            color: #212529;
            text-align: center;
        }

        .appointment-header {
            text-align: center;
            margin-bottom: 48px;
            padding: 32px 24px;
            background: linear-gradient(135deg, #f8faff 0%, #ffffff 100%);
            border-radius: 20px;
            border: 1px solid #e5e7eb;
            position: relative;
            overflow: hidden;
        }

        .appointment-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 70% 30%, rgba(0, 123, 255, 0.05) 0%, transparent 50%);
            pointer-events: none;
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        .main-title {
            font-size: clamp(28px, 5vw, 40px);
            font-weight: 800;
            color: #1f2937;
            margin-bottom: 12px;
            background: linear-gradient(135deg, #1f2937 0%, #007BFF 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .main-subtitle {
            font-size: 18px;
            color: #6b7280;
            margin-bottom: 32px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }

        .feature-highlights {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2rem;
            max-width: 1000px;
            margin: 0 auto;
        }

        .feature-item {
            text-align: center;
            padding: 2rem 1.5rem;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            border: 1px solid rgba(0, 123, 255, 0.1);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 15px rgba(0, 123, 255, 0.1);
        }

        .feature-item:hover {
            transform: translateY(-5px);
            border-color: rgba(0, 123, 255, 0.2);
            box-shadow: 0 8px 30px rgba(0, 123, 255, 0.2);
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #007BFF, #66b3ff);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.5rem;
            color: white;
        }

        .feature-content h4 {
            font-size: 1rem;
            font-weight: 600;
            color: #212529;
            margin-bottom: 0.5rem;
        }

        .feature-content p {
            font-size: 0.85rem;
            color: #6c757d;
            margin: 0;
        }

        @media (max-width: 768px) {
            .appointment-header {
                margin-bottom: 32px;
                padding: 24px 16px;
            }
            
            .main-subtitle {
                font-size: 16px;
                margin-bottom: 24px;
            }
            
            .feature-highlights {
                grid-template-columns: 1fr 1fr;
                gap: 1rem;
            }
            
            .feature-item {
                padding: 1.5rem 1rem;
            }
            
            .feature-icon {
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
            
            .feature-content h4 {
                font-size: 0.9rem;
            }
            
            .feature-content p {
                font-size: 0.75rem;
            }
        }

        @media (max-width: 480px) {
            .feature-highlights {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }

        .progress-bar {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 40px;
            padding: 0 16px;
            position: relative;
        }

        .progress-bar::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 60%;
            height: 2px;
            background: #e5e7eb;
            z-index: 1;
        }

        @media (max-width: 768px) {
            .progress-bar {
                flex-direction: column;
                align-items: center;
                gap: 16px;
                margin-bottom: 32px;
            }
            
            .progress-bar::before {
                display: none;
            }
        }

        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            position: relative;
            z-index: 2;
            background: #f8fafc;
            padding: 0 12px;
        }

        @media (max-width: 768px) {
            .progress-step {
                flex-direction: row;
                text-align: left;
                gap: 12px;
                padding: 12px 20px;
                background: white;
                border-radius: 12px;
                border: 2px solid #e5e7eb;
                width: 100%;
                max-width: 300px;
            }
        }

        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: #6b7280;
            border: 2px solid #e5e7eb;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .step-circle {
                width: 32px;
                height: 32px;
                font-size: 12px;
            }
        }

        .progress-step.active .step-circle {
            background: #007BFF;
            color: white;
            border-color: #007BFF;
        }

        .progress-step.completed .step-circle {
            background: #10b981;
            color: white;
            border-color: #10b981;
        }

        .step-label {
            font-weight: 500;
            color: #6b7280;
            font-size: 14px;
        }

        .progress-step.active .step-label {
            color: #007BFF;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .step-label {
                font-size: 12px;
            }
        }

        .step-content {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 24px;
            border: 1px solid #e5e7eb;
        }

        @media (max-width: 768px) {
            .step-content {
                padding: 20px 16px;
                margin-bottom: 20px;
            }
        }

        .step-title {
            font-size: 24px;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 8px;
        }

        .step-subtitle {
            color: #6b7280;
            margin-bottom: 32px;
        }

        .search-container {
            position: relative;
            margin-bottom: 24px;
        }

        .search-input {
            width: 100%;
            padding: 14px 48px 14px 16px;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.2s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .search-input:focus {
            outline: none;
            border-color: #007BFF;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
        }

        @media (max-width: 768px) {
            .search-input {
                padding: 12px 40px 12px 14px;
                font-size: 14px;
            }
        }

        .search-icon {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: #6b7280;
            font-size: 20px;
        }

        .search-container:focus-within .search-icon {
            color: #007BFF;
        }

        .filters {
            display: flex;
            gap: 12px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .filter-chip {
            padding: 8px 16px;
            background: #f3f4f6;
            border: 1px solid #e5e7eb;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .filter-chip:hover {
            background: #e5e7eb;
        }

        .filter-chip.active {
            background: #007BFF;
            color: white;
            border-color: #007BFF;
        }

        @media (max-width: 768px) {
            .filter-chip {
                padding: 6px 12px;
                font-size: 12px;
            }
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 32px;
        }

        @media (max-width: 1024px) {
            .cards-grid {
                grid-template-columns: 1fr;
                gap: 16px;
            }
        }

        @media (max-width: 768px) {
            .cards-grid {
                grid-template-columns: 1fr;
                gap: 12px;
                margin-bottom: 24px;
            }
        }

        .hospital-card, .doctor-card {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 16px;
            padding: 0;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            overflow: hidden;
        }

        /* Enhanced Hospital Card Styles */
        .hospital-image {
            position: relative;
            height: 180px;
            overflow: hidden;
            border-radius: 14px 14px 0 0;
        }

        .hospital-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .hospital-badges {
            position: absolute;
            top: 12px;
            left: 12px;
            display: flex;
            gap: 8px;
            flex-direction: column;
        }

        .badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
            backdrop-filter: blur(10px);
        }

        .badge.emergency {
            background: rgba(239, 68, 68, 0.9);
            color: white;
        }

        .badge.parking {
            background: rgba(34, 197, 94, 0.9);
            color: white;
        }

        .hospital-content {
            padding: 20px;
        }

        .hospital-main-info .hospital-name {
            font-size: 18px;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 6px;
        }

        .hospital-address {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #6b7280;
            font-size: 13px;
            margin-bottom: 8px;
        }

        .hospital-contact {
            display: flex;
            gap: 16px;
            font-size: 12px;
            color: #6b7280;
            margin-bottom: 16px;
        }

        .wait-time {
            color: #059669 !important;
            font-weight: 600;
        }

        .specialties {
            margin-bottom: 16px;
        }

        .specialties h4 {
            font-size: 14px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .specialty-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .tag {
            padding: 4px 8px;
            background: #f3f4f6;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            color: #6b7280;
        }

        .tag.more {
            background: #e5e7eb;
            color: #374151;
        }

        .hospital-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-bottom: 16px;
        }

        .hospital-features {
            margin-bottom: 16px;
        }

        .feature-group, .insurance-info {
            margin-bottom: 12px;
        }

        .feature-group h5, .insurance-info h5 {
            font-size: 12px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .feature-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4px;
        }

        .feature-list span {
            font-size: 11px;
            color: #6b7280;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .insurance-list {
            font-size: 11px;
            color: #6b7280;
        }

        .hospital-actions {
            display: flex;
            gap: 8px;
            padding-top: 12px;
            border-top: 1px solid #f3f4f6;
        }

        .btn-quick {
            flex: 1;
            padding: 8px 12px;
            background: #f8faff;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 500;
            color: #007BFF;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }

        .btn-quick:hover {
            background: #007BFF;
            color: white;
        }

        /* Enhanced Doctor Card Styles */
        .doctor-profile {
            display: flex;
            gap: 16px;
            padding: 20px 20px 16px;
            border-bottom: 1px solid #f3f4f6;
        }

        .doctor-avatar {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            background-size: cover;
            background-position: center;
            position: relative;
            flex-shrink: 0;
            border: 3px solid #f3f4f6;
        }

        .availability-indicator {
            position: absolute;
            bottom: 2px;
            right: 2px;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            border: 2px solid white;
        }

        .availability-indicator.available {
            background: #10b981;
        }

        .availability-indicator.scheduled {
            background: #f59e0b;
        }

        .doctor-info {
            flex: 1;
        }

        .doctor-name {
            font-size: 18px;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 4px;
        }

        .doctor-specialty {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #007BFF;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .doctor-education {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #6b7280;
            font-size: 12px;
        }

        .doctor-details {
            padding: 16px 20px 20px;
        }

        .doctor-stats {
            display: grid;
            grid-template-columns: 1fr;
            gap: 8px;
            margin-bottom: 16px;
        }

        .stat {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            color: #6b7280;
        }

        .stat.rating {
            color: #f59e0b;
        }

        .stat.fee {
            color: #059669;
            font-weight: 600;
        }

        .doctor-about {
            margin-bottom: 16px;
        }

        .doctor-about p {
            font-size: 13px;
            color: #6b7280;
            line-height: 1.4;
            margin: 0;
        }

        .doctor-qualifications, .doctor-languages, .doctor-achievements {
            margin-bottom: 12px;
        }

        .doctor-qualifications h5, .doctor-languages h5, .doctor-achievements h5 {
            font-size: 12px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .cert-list, .achievement-list {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .cert-tag, .achievement-tag {
            padding: 3px 8px;
            background: #eff6ff;
            border: 1px solid #dbeafe;
            border-radius: 12px;
            font-size: 10px;
            font-weight: 500;
            color: #1e40af;
        }

        .achievement-tag {
            background: #fef3c7;
            border-color: #fde68a;
            color: #92400e;
        }

        .lang-list {
            font-size: 12px;
            color: #6b7280;
        }

        .doctor-availability {
            margin-bottom: 16px;
            padding: 12px;
            background: #f8faff;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
        }

        .next-available {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            color: #374151;
        }

        .doctor-actions {
            display: flex;
            gap: 8px;
            padding-top: 12px;
            border-top: 1px solid #f3f4f6;
        }

        .hospital-card:hover, .doctor-card:hover {
            border-color: #007BFF;
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0, 123, 255, 0.15);
        }

        .hospital-card.selected, .doctor-card.selected {
            border-color: #007BFF;
            background: #f8faff;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 123, 255, 0.2);
        }

        .hospital-card.selected::after, .doctor-card.selected::after {
            content: '✓';
            position: absolute;
            top: 12px;
            right: 12px;
            width: 24px;
            height: 24px;
            background: #10b981;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 12px;
            animation: checkmark 0.4s ease;
        }

        @keyframes checkmark {
            0% { opacity: 0; transform: scale(0); }
            100% { opacity: 1; transform: scale(1); }
        }

        @media (max-width: 768px) {
            .hospital-card, .doctor-card {
                padding: 16px;
                margin-bottom: 12px;
            }
        }

        .hospital-header, .doctor-header {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            margin-bottom: 16px;
        }

        .hospital-icon, .doctor-avatar {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            flex-shrink: 0;
        }

        .doctor-avatar {
            border-radius: 50%;
            background-size: cover;
            background-position: center;
        }

        .hospital-name, .doctor-name {
            font-size: 18px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 4px;
        }

        .hospital-address, .doctor-specialty {
            color: #6b7280;
            font-size: 14px;
        }

        .hospital-stats, .doctor-stats {
            display: flex;
            gap: 16px;
            margin-top: 16px;
        }

        .stat {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 14px;
            color: #6b7280;
        }

        .rating {
            display: flex;
            align-items: center;
            gap: 4px;
            color: #f59e0b;
        }

        .time-slots-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 12px;
            margin-top: 24px;
        }

        .time-slot {
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }

        .time-slot:hover {
            border-color: #007BFF;
            background: #f8faff;
        }

        .time-slot.selected {
            background: #007BFF;
            color: white;
            border-color: #007BFF;
        }

        .time-slot.unavailable {
            background: #f3f4f6;
            color: #9ca3af;
            cursor: not-allowed;
            opacity: 0.6;
        }

        .appointment-summary {
            background: #f8faff;
            border: 1px solid #007BFF;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .summary-title {
            font-size: 18px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 16px;
        }

        .summary-item {
            display: flex;
            justify-content: between;
            margin-bottom: 8px;
        }

        .summary-label {
            font-weight: 500;
            color: #374151;
        }

        .summary-value {
            color: #6b7280;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 16px;
        }

        .action-buttons {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 24px;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 14px;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: 120px;
        }

        .btn-primary {
            background: #007BFF;
            color: white;
        }

        .btn-primary:hover {
            background: #0056b3;
            transform: translateY(-1px);
        }

        .btn-outline {
            background: white;
            color: #007BFF;
            border: 2px solid #007BFF;
        }

        .btn-outline:hover {
            background: #f8faff;
        }

        .btn-success {
            background: #10b981;
            color: white;
        }

        .btn-success:hover {
            background: #059669;
            transform: translateY(-1px);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        @media (max-width: 768px) {
            .action-buttons {
                flex-direction: column;
                gap: 8px;
            }
            
            .btn {
                width: 100%;
                padding: 14px 20px;
            }
        }

        .hidden {
            display: none !important;
        }

        .calendar-container {
            margin: 24px 0;
        }

        .calendar-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 16px;
        }

        .calendar-nav {
            display: flex;
            gap: 8px;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: #e5e7eb;
            border-radius: 8px;
            overflow: hidden;
        }

        .calendar-day {
            background: white;
            padding: 12px 8px;
            text-align: center;
            cursor: pointer;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .calendar-day:hover {
            background: #f3f4f6;
        }

        .calendar-day.selected {
            background: #007BFF;
            color: white;
        }

        .calendar-day.disabled {
            color: #9ca3af;
            cursor: not-allowed;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 16px;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
                gap: 12px;
            }
        }

        /* Animated Icons */
        .animated-icon {
            animation: iconFloat 2s ease-in-out infinite;
        }

        @keyframes iconFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-3px); }
        }

        .step-title {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        /* Time Selection Layout */
        .time-selection-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 32px;
            margin-bottom: 32px;
        }

        .calendar-section, .time-slots-section {
            background: #f8faff;
            border-radius: 16px;
            padding: 24px;
            border: 1px solid #e5e7eb;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-header h3 {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 18px;
            font-weight: 600;
            color: #374151;
        }

        .selected-date-display {
            font-size: 14px;
            color: #6b7280;
            padding: 6px 12px;
            background: rgba(0, 123, 255, 0.1);
            border-radius: 12px;
            border: 1px solid rgba(0, 123, 255, 0.2);
        }

        .time-slots-header {
            margin: 20px 0 12px 0;
            padding-bottom: 8px;
            border-bottom: 1px solid #e5e7eb;
        }

        .time-period {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: #374151;
        }

        .time-slots-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-bottom: 16px;
        }

        .time-slot {
            padding: 12px 16px;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            font-size: 14px;
        }

        .time-slot:hover {
            border-color: #007BFF;
            background: rgba(0, 123, 255, 0.05);
            transform: translateY(-2px);
        }

        .time-slot.selected {
            background: #007BFF;
            color: white;
            border-color: #007BFF;
        }

        .time-slot.unavailable {
            background: #f3f4f6;
            color: #9ca3af;
            cursor: not-allowed;
        }

        /* Confirmation Layout */
        .confirmation-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 32px;
            margin-bottom: 32px;
        }

        .appointment-summary-section, .contact-form-section {
            background: #f8faff;
            border-radius: 16px;
            padding: 24px;
            border: 1px solid #e5e7eb;
        }

        .summary-header, .form-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .summary-header h3, .form-header h3 {
            font-size: 18px;
            font-weight: 600;
            color: #374151;
        }

        .summary-card {
            display: flex;
            gap: 16px;
            padding: 16px;
            background: white;
            border-radius: 12px;
            border: 1px solid #e5e7eb;
            margin-bottom: 12px;
            transition: all 0.3s ease;
        }

        .summary-card:hover {
            border-color: rgba(0, 123, 255, 0.3);
            box-shadow: 0 4px 12px rgba(0, 123, 255, 0.1);
        }

        .summary-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #007BFF, #3395FF);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            flex-shrink: 0;
        }

        .summary-details {
            flex: 1;
        }

        .summary-label {
            display: block;
            font-size: 12px;
            font-weight: 600;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 4px;
        }

        .summary-value {
            display: block;
            font-size: 16px;
            font-weight: 700;
            color: #374151;
            margin-bottom: 2px;
        }

        .summary-extra {
            display: block;
            font-size: 12px;
            color: #6b7280;
        }

        .appointment-instructions {
            margin-top: 20px;
            padding: 16px;
            background: rgba(34, 197, 94, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(34, 197, 94, 0.2);
        }

        .appointment-instructions h4 {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #059669;
            margin-bottom: 12px;
        }

        .appointment-instructions ul {
            list-style: none;
            padding: 0;
        }

        .appointment-instructions li {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: #374151;
            margin-bottom: 6px;
        }

        .appointment-instructions li i {
            color: #059669;
            font-size: 16px;
        }

        /* Success Page Styles */
        .success-container {
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .success-animation {
            position: relative;
            margin-bottom: 32px;
        }

        .success-circle {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #10b981, #059669);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            position: relative;
            z-index: 2;
            animation: successPulse 2s ease-in-out infinite;
        }

        .success-icon {
            font-size: 48px;
            color: white;
            animation: successCheck 1s ease-in-out;
        }

        .success-ripple {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120px;
            height: 120px;
            border: 3px solid #10b981;
            border-radius: 50%;
            animation: rippleEffect 2s ease-out infinite;
        }

        @keyframes successPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes successCheck {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); opacity: 1; }
        }

        @keyframes rippleEffect {
            0% { transform: translate(-50%, -50%) scale(1); opacity: 0.7; }
            100% { transform: translate(-50%, -50%) scale(2); opacity: 0; }
        }

        .success-title {
            font-size: 32px;
            font-weight: 800;
            color: #374151;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .success-subtitle {
            font-size: 18px;
            color: #6b7280;
            margin-bottom: 40px;
            line-height: 1.6;
        }

        .confirmation-details {
            margin-bottom: 40px;
        }

        .confirmation-card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            border: 1px solid #e5e7eb;
            margin-bottom: 24px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .confirmation-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid #f3f4f6;
        }

        .confirmation-header h3 {
            font-size: 18px;
            font-weight: 600;
            color: #374151;
        }

        .confirmation-info {
            display: grid;
            gap: 16px;
        }

        .info-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px;
            background: #f8faff;
            border-radius: 12px;
        }

        .info-item i {
            font-size: 20px;
            color: #007BFF;
        }

        .info-label {
            display: block;
            font-size: 12px;
            font-weight: 600;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .info-value {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #374151;
        }

        .next-steps {
            background: #f8faff;
            border-radius: 16px;
            padding: 24px;
            border: 1px solid #e5e7eb;
        }

        .next-steps h4 {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 18px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 20px;
        }

        .steps-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        .next-step {
            display: flex;
            gap: 12px;
            padding: 16px;
            background: white;
            border-radius: 12px;
            border: 1px solid #e5e7eb;
            transition: all 0.3s ease;
        }

        .next-step:hover {
            border-color: rgba(0, 123, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 123, 255, 0.1);
        }

        .step-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #007BFF, #3395FF);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            flex-shrink: 0;
        }

        .step-content h5 {
            font-size: 14px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 4px;
        }

        .step-content p {
            font-size: 12px;
            color: #6b7280;
            margin: 0;
        }

        .success-actions {
            display: flex;
            gap: 16px;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Form Enhancements */
        .form-group label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 8px;
        }

        .form-group label i {
            color: #007BFF;
            font-size: 16px;
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-size: 14px;
            transition: all 0.3s ease;
            background: white;
        }

        .form-control:focus {
            border-color: #007BFF;
            outline: none;
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
        }

        .reminder-preferences {
            background: rgba(0, 123, 255, 0.05);
            border-radius: 12px;
            padding: 16px;
            margin: 16px 0;
            border: 1px solid rgba(0, 123, 255, 0.1);
        }

        .reminder-preferences h5 {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 12px;
        }

        .checkbox-container {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            font-size: 14px;
            color: #374151;
        }

        .checkbox-container input[type="checkbox"] {
            width: 18px;
            height: 18px;
            margin: 0;
        }

        .checkbox-container i {
            color: #6b7280;
            margin-right: 8px;
        }

        /* Responsive Updates */
        @media (max-width: 1024px) {
            .time-selection-layout,
            .confirmation-layout {
                grid-template-columns: 1fr;
                gap: 24px;
            }
            
            .steps-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .time-slots-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .success-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .success-actions .btn {
                width: 100%;
                max-width: 300px;
            }
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            padding: 20px;
        }

        .modal-container {
            background: white;
            border-radius: 16px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .modal-header {
            padding: 24px;
            border-bottom: 1px solid #f3f4f6;
            display: flex;
            gap: 20px;
            align-items: flex-start;
        }

        .hospital-detail-image {
            width: 120px;
            height: 80px;
            object-fit: cover;
            border-radius: 8px;
            flex-shrink: 0;
        }

        .doctor-avatar-large {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-size: cover;
            background-position: center;
            flex-shrink: 0;
            border: 3px solid #f3f4f6;
        }

        .hospital-detail-info h2,
        .doctor-detail-info h2 {
            font-size: 24px;
            font-weight: 700;
            color: #1f2937;
            margin: 0 0 8px 0;
        }

        .address,
        .specialty-large {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #6b7280;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .specialty-large {
            color: #007BFF;
            font-weight: 600;
        }

        .rating-large {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #f59e0b;
            font-weight: 600;
        }

        .availability-large {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #059669;
            font-size: 14px;
            margin-top: 8px;
        }

        .modal-content {
            padding: 0 24px 24px;
        }

        .info-section {
            margin-bottom: 24px;
        }

        .info-section h3 {
            font-size: 16px;
            font-weight: 600;
            color: #374151;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .info-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .info-item label {
            font-size: 12px;
            font-weight: 600;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .info-item span {
            font-size: 14px;
            color: #374151;
            font-weight: 500;
        }

        .specialty-grid,
        .facilities-grid,
        .insurance-grid,
        .cert-grid,
        .achievement-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .specialty-item,
        .insurance-item,
        .cert-item {
            padding: 6px 12px;
            background: #eff6ff;
            border: 1px solid #dbeafe;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 500;
            color: #1e40af;
        }

        .facility-item {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 4px 8px;
            background: #f0fdf4;
            border: 1px solid #dcfce7;
            border-radius: 12px;
            font-size: 12px;
            color: #15803d;
            margin-bottom: 4px;
        }

        .achievement-item {
            padding: 6px 12px;
            background: #fef3c7;
            border: 1px solid #fde68a;
            border-radius: 16px;
            font-size: 12px;
            font-weight: 500;
            color: #92400e;
        }

        .education-info {
            background: #f8faff;
            padding: 16px;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
        }

        .education-info p {
            margin: 0 0 8px 0;
            font-size: 14px;
            color: #374151;
            line-height: 1.5;
        }

        .education-info p:last-child {
            margin-bottom: 0;
        }

        .modal-actions {
            padding: 0 24px 24px;
            display: flex;
            gap: 12px;
            border-top: 1px solid #f3f4f6;
            padding-top: 20px;
        }

        .btn-primary,
        .btn-secondary {
            flex: 1;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            border: none;
        }

        .btn-primary {
            background: #007BFF;
            color: white;
        }

        .btn-primary:hover {
            background: #0056b3;
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: #f3f4f6;
            color: #6b7280;
            border: 1px solid #e5e7eb;
        }

        .btn-secondary:hover {
            background: #e5e7eb;
        }

        @media (max-width: 768px) {
            .modal-container {
                margin: 10px;
                max-height: 95vh;
            }
            
            .modal-header {
                padding: 16px;
                flex-direction: column;
                align-items: center;
                text-align: center;
            }
            
            .hospital-detail-image,
            .doctor-avatar-large {
                width: 100px;
                height: 100px;
            }
            
            .modal-content {
                padding: 0 16px 16px;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-actions {
                padding: 0 16px 16px;
                flex-direction: column;
            }
        }

        /* Enhanced Quick Actions Bar Styles */
        .quick-actions-bar {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 40px;
            padding: 24px;
            background: linear-gradient(135deg, #f8faff 0%, #e8f4fd 100%);
            border-radius: 20px;
            border: 1px solid rgba(0, 123, 255, 0.1);
        }

        .quick-action-card {
            background: white;
            border-radius: 16px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .quick-action-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0, 123, 255, 0.05), rgba(0, 86, 179, 0.05));
            opacity: 0;
            transition: all 0.3s ease;
        }

        .quick-action-card:hover::before {
            opacity: 1;
        }

        .quick-action-card:hover {
            transform: translateY(-5px);
            border-color: rgba(0, 123, 255, 0.3);
            box-shadow: 0 12px 30px rgba(0, 123, 255, 0.15);
        }

        .quick-action-card.emergency {
            border-color: rgba(239, 68, 68, 0.2);
        }

        .quick-action-card.emergency:hover {
            border-color: rgba(239, 68, 68, 0.4);
            box-shadow: 0 12px 30px rgba(239, 68, 68, 0.2);
        }

        .quick-action-card.virtual {
            border-color: rgba(34, 197, 94, 0.2);
        }

        .quick-action-card.virtual:hover {
            border-color: rgba(34, 197, 94, 0.4);
            box-shadow: 0 12px 30px rgba(34, 197, 94, 0.2);
        }

        .quick-action-card.ai-match {
            border-color: rgba(168, 85, 247, 0.2);
        }

        .quick-action-card.ai-match:hover {
            border-color: rgba(168, 85, 247, 0.4);
            box-shadow: 0 12px 30px rgba(168, 85, 247, 0.2);
        }

        .action-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 12px;
            font-size: 24px;
            color: white;
            background: linear-gradient(135deg, #007BFF, #0056b3);
            position: relative;
            z-index: 2;
        }

        .quick-action-card.emergency .action-icon {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        .quick-action-card.virtual .action-icon {
            background: linear-gradient(135deg, #22c55e, #16a34a);
        }

        .quick-action-card.ai-match .action-icon {
            background: linear-gradient(135deg, #a855f7, #9333ea);
        }

        .emergency-pulse {
            animation: emergencyPulse 2s infinite;
        }

        @keyframes emergencyPulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
            50% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
        }

        .action-content {
            position: relative;
            z-index: 2;
        }

        .action-content h4 {
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 4px;
        }

        .action-content p {
            font-size: 13px;
            color: #6b7280;
            margin: 0;
        }

        @media (max-width: 1024px) {
            .quick-actions-bar {
                grid-template-columns: repeat(2, 1fr);
                gap: 16px;
                padding: 20px;
            }
        }

        @media (max-width: 768px) {
            .quick-actions-bar {
                grid-template-columns: 1fr;
                gap: 12px;
                padding: 16px;
                margin-bottom: 24px;
            }
            
            .quick-action-card {
                padding: 16px;
                display: flex;
                align-items: center;
                gap: 16px;
            }
            
            .action-icon {
                width: 40px;
                height: 40px;
                font-size: 20px;
                margin-bottom: 0;
                flex-shrink: 0;
            }
            
            .action-content h4 {
                font-size: 14px;
            }
            
            .action-content p {
                font-size: 12px;
            }
        }

        /* Enhanced Modal Styles */
        .enhanced-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .enhanced-modal.active {
            display: flex;
            opacity: 1;
        }

        .enhanced-modal-content {
            background: white;
            border-radius: 20px;
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: scale(0.9);
            transition: all 0.3s ease;
        }

        .enhanced-modal.active .enhanced-modal-content {
            transform: scale(1);
        }

        .enhanced-modal-header {
            padding: 24px 24px 0;
            border-bottom: 1px solid #f3f4f6;
            margin-bottom: 24px;
        }

        .enhanced-modal-header h3 {
            font-size: 24px;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .enhanced-modal-header p {
            color: #6b7280;
            margin: 0;
        }

        .enhanced-modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border: none;
            background: #f3f4f6;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 20px;
            color: #6b7280;
        }

        .enhanced-modal-close:hover {
            background: #e5e7eb;
            color: #374151;
        }

        .enhanced-modal-body {
            padding: 0 24px 24px;
        }

    </style>
</head>
<body>
    <!-- Modern Navigation -->
    <nav class="modern-navbar">
        <div class="navbar-container">
            <!-- Brand Logo -->
            <a href="index.html" class="navbar-brand">
                <i class="bx bx-health"></i>
                <span>MediCare<span class="brand-accent">+</span></span>
            </a>

            <!-- Navigation Links -->
            <div class="navbar-nav">
                <a href="index.html" class="nav-link" data-page="index">
                    <i class="bx bx-home-alt"></i>
                    <span>Home</span>
                </a>
                <a href="schedule.html" class="nav-link" data-page="schedule">
                    <i class="bx bx-calendar"></i>
                    <span>Schedule</span>
                </a>
                <a href="reminders.html" class="nav-link" data-page="reminders">
                    <i class="bx bx-bell"></i>
                    <span>Reminders</span>
                </a>
                <a href="appointments.html" class="nav-link active" data-page="appointments">
                    <i class="bx bx-calendar-check"></i>
                    <span>Appointments</span>
                </a>
                <a href="blog.html" class="nav-link" data-page="blog">
                    <i class="bx bx-book-open"></i>
                    <span>Blog</span>
                </a>
            </div>

            <!-- Auth Section -->
            <div class="navbar-auth">
                <a href="auth.html" class="google-sign-btn">
                    <i class="bx bx-user"></i>
                    <span>Get Started</span>
                </a>
            </div>

            <!-- Mobile Menu Toggle -->
            <button class="mobile-toggle" onclick="toggleMobileMenu()">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Mobile Menu Backdrop -->
    <div class="mobile-menu-backdrop" id="mobileMenuBackdrop" onclick="toggleMobileMenu()"></div>
    
    <!-- Mobile Side Menu - RIGHT SIDE -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay">
        <div class="mobile-menu-content">
            <div class="mobile-menu-header">
                <div class="mobile-menu-brand">
                    <i class="bx bx-health"></i>
                    <span>MediCare<span class="brand-accent">+</span></span>
                </div>
                <button class="mobile-close" onclick="toggleMobileMenu()">
                    <i class="bx bx-x"></i>
                </button>
            </div>
            
            <div class="mobile-nav-links">
                <a href="index.html" class="mobile-nav-link">
                    <i class="bx bx-home-alt"></i>
                    <span>Home</span>
                </a>
                <a href="dashboard.html" class="mobile-nav-link">
                    <i class="bx bx-grid-alt"></i>
                    <span>Dashboard</span>
                </a>
                <a href="schedule.html" class="mobile-nav-link">
                    <i class="bx bx-calendar"></i>
                    <span>Schedule</span>
                </a>
                <a href="reminders.html" class="mobile-nav-link">
                    <i class="bx bx-bell"></i>
                    <span>Reminders</span>
                </a>
                <a href="appointments.html" class="mobile-nav-link active">
                    <i class="bx bx-calendar-check"></i>
                    <span>Appointments</span>
                </a>
                <a href="medications.html" class="mobile-nav-link">
                    <i class="bx bx-capsule"></i>
                    <span>Medications</span>
                </a>
                <a href="pharmacies.html" class="mobile-nav-link">
                    <i class="bx bx-store"></i>
                    <span>Pharmacies</span>
                </a>
                <a href="profile.html" class="mobile-nav-link">
                    <i class="bx bx-user"></i>
                    <span>Profile</span>
                </a>
                <a href="blog.html" class="mobile-nav-link">
                    <i class="bx bx-book-open"></i>
                    <span>Health Blog</span>
                </a>
            </div>
            
            <div class="mobile-auth-section">
                <a href="auth.html" class="mobile-auth-btn">
                                    <i class="bx bx-user"></i>
                <span>Get Started</span>
            </a>
            </div>
        </div>
    </div>

    <div class="appointment-container">
        <!-- Page Hero Section -->
        <section class="page-hero">
            <div class="hero-container">
                <div class="hero-badge">
                    <i class="bx bx-calendar-star"></i>
                    Smart Appointment System
                </div>
                <h1 class="hero-title">
                    Your <span class="highlight">Appointment</span> Hub
                </h1>
                <p class="hero-subtitle">
                    Book, manage, and track medical appointments with Sri Lanka's leading healthcare providers
                </p>
                
                <div class="hero-features">
                    <div class="hero-feature">
                        <div class="hero-feature-icon">
                            <i class="fas fa-calendar-plus"></i>
                        </div>
                        <h4 class="hero-feature-title">Easy Booking</h4>
                    </div>
                    <div class="hero-feature">
                        <div class="hero-feature-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <h4 class="hero-feature-title">Real-time Slots</h4>
                    </div>
                    <div class="hero-feature">
                        <div class="hero-feature-icon">
                            <i class="fas fa-bell"></i>
                        </div>
                        <h4 class="hero-feature-title">Smart Reminders</h4>
                    </div>
                    <div class="hero-feature">
                        <div class="hero-feature-icon">
                            <i class="fas fa-user-md"></i>
                        </div>
                        <h4 class="hero-feature-title">Top Doctors</h4>
                    </div>
                </div>
            </div>
        </section>

        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress-step active" data-step="1">
                <div class="step-circle">1</div>
                <div class="step-label">Choose Hospital</div>
            </div>
            <div class="progress-step" data-step="2">
                <div class="step-circle">2</div>
                <div class="step-label">Select Doctor</div>
            </div>
            <div class="progress-step" data-step="3">
                <div class="step-circle">3</div>
                <div class="step-label">Pick Time</div>
            </div>
            <div class="progress-step" data-step="4">
                <div class="step-circle">4</div>
                <div class="step-label">Confirm</div>
            </div>
        </div>

        <!-- Enhanced Quick Actions Bar -->
        <div class="quick-actions-bar">
            <div class="quick-action-card emergency" onclick="showEmergencyBooking()">
                <div class="action-icon emergency-pulse">
                    <i class="bx bx-plus-medical"></i>
                </div>
                <div class="action-content">
                    <h4>Emergency Booking</h4>
                    <p>Urgent care within 24 hours</p>
                </div>
            </div>
            
            <div class="quick-action-card virtual" onclick="showVirtualConsultation()">
                <div class="action-icon">
                    <i class="bx bx-video"></i>
                </div>
                <div class="action-content">
                    <h4>Virtual Consultation</h4>
                    <p>Online doctor visits</p>
                </div>
            </div>
            
            <div class="quick-action-card ai-match" onclick="showAIRecommendations()">
                <div class="action-icon">
                    <i class="bx bx-brain"></i>
                </div>
                <div class="action-content">
                    <h4>AI Doctor Match</h4>
                    <p>Smart recommendations</p>
                </div>
            </div>
            
            <div class="quick-action-card family" onclick="showFamilyBooking()">
                <div class="action-icon">
                    <i class="bx bx-group"></i>
                </div>
                <div class="action-content">
                    <h4>Family Booking</h4>
                    <p>Book for family members</p>
                </div>
            </div>
        </div>

        <!-- Appointment Analytics Dashboard -->
        <div class="analytics-dashboard">
            <div class="analytics-header">
                <h3><i class="bx bx-chart-line"></i> Your Appointment Insights</h3>
                <button class="btn btn-outline btn-sm" onclick="toggleAnalytics()">
                    <i class="bx bx-show"></i> <span id="analyticsToggleText">Show Details</span>
                </button>
            </div>
            <div class="analytics-content" id="analyticsContent" style="display: none;">
                <div class="analytics-grid">
                    <div class="analytics-card">
                        <div class="analytics-icon">
                            <i class="bx bx-calendar-check"></i>
                        </div>
                        <div class="analytics-info">
                            <h4>12</h4>
                            <p>Total Appointments</p>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <div class="analytics-icon">
                            <i class="bx bx-time"></i>
                        </div>
                        <div class="analytics-info">
                            <h4>3</h4>
                            <p>Upcoming</p>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <div class="analytics-icon">
                            <i class="bx bx-user-md"></i>
                        </div>
                        <div class="analytics-info">
                            <h4>5</h4>
                            <p>Doctors Visited</p>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <div class="analytics-icon">
                            <i class="bx bx-star"></i>
                        </div>
                        <div class="analytics-info">
                            <h4>4.8</h4>
                            <p>Avg Rating</p>
                        </div>
                    </div>
                </div>
                <div class="recent-appointments">
                    <h4>Recent Appointments</h4>
                    <div class="appointment-list">
                        <div class="appointment-item">
                            <div class="appointment-date">
                                <span class="date">Dec 15</span>
                                <span class="time">2:30 PM</span>
                            </div>
                            <div class="appointment-details">
                                <h5>Dr. Sarah Johnson</h5>
                                <p>General Checkup</p>
                            </div>
                            <div class="appointment-status completed">
                                <i class="bx bx-check-circle"></i>
                                <span>Completed</span>
                            </div>
                        </div>
                        <div class="appointment-item">
                            <div class="appointment-date">
                                <span class="date">Dec 20</span>
                                <span class="time">10:00 AM</span>
                            </div>
                            <div class="appointment-details">
                                <h5>Dr. Michael Chen</h5>
                                <p>Cardiology Consultation</p>
                            </div>
                            <div class="appointment-status upcoming">
                                <i class="bx bx-clock"></i>
                                <span>Upcoming</span>
                            </div>
                        </div>
                        <div class="appointment-item">
                            <div class="appointment-date">
                                <span class="date">Dec 25</span>
                                <span class="time">3:15 PM</span>
                            </div>
                            <div class="appointment-details">
                                <h5>Dr. Emily Davis</h5>
                                <p>Follow-up Visit</p>
                            </div>
                            <div class="appointment-status upcoming">
                                <i class="bx bx-clock"></i>
                                <span>Upcoming</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 1: Hospital Selection -->
        <div class="step-content" id="step1">
            <h2 class="step-title">
                <i class="bx bx-building-house animated-icon"></i>
                Find the Perfect Hospital
            </h2>
            <p class="step-subtitle">Search and select from our network of trusted healthcare providers</p>
            
            <div class="search-container">
                <input type="text" class="search-input" id="hospitalSearch" placeholder="Search hospitals by name, location, or specialty...">
                <i class="bx bx-search search-icon"></i>
            </div>
            
            <div class="filters">
                <div class="filter-chip active" data-filter="all">All Hospitals</div>
                <div class="filter-chip" data-filter="general">General Hospital</div>
                <div class="filter-chip" data-filter="specialty">Specialty Center</div>
                <div class="filter-chip" data-filter="emergency">Emergency Care</div>
                <div class="filter-chip" data-filter="pediatric">Pediatric</div>
            </div>
            
            <div class="cards-grid" id="hospitalsGrid">
                <!-- Hospital cards will be populated by JavaScript -->
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" id="continueToDoctor" disabled>
                    <i class="bx bx-arrow-right animated-icon"></i>
                    Continue to Doctor Selection
                    </button>
            </div>
                </div>

        <!-- Step 2: Doctor Selection -->
        <div class="step-content hidden" id="step2">
            <h2 class="step-title">
                <i class="bx bx-user-md animated-icon"></i>
                Choose Your Doctor
            </h2>
            <p class="step-subtitle">Select from available specialists at <span id="selectedHospitalName"></span></p>
            
            <div class="search-container">
                <input type="text" class="search-input" id="doctorSearch" placeholder="Search doctors by name or specialty...">
                <i class="bx bx-search search-icon"></i>
                    </div>
            
            <div class="filters">
                <div class="filter-chip active" data-filter="all">All Doctors</div>
                <div class="filter-chip" data-filter="cardiology">Cardiology</div>
                <div class="filter-chip" data-filter="dermatology">Dermatology</div>
                <div class="filter-chip" data-filter="neurology">Neurology</div>
                <div class="filter-chip" data-filter="orthopedics">Orthopedics</div>
                </div>

            <div class="cards-grid" id="doctorsGrid">
                <!-- Doctor cards will be populated by JavaScript -->
                    </div>
            
            <div class="action-buttons">
                <button class="btn btn-outline" id="backToHospital">
                    <i class="bx bx-arrow-back"></i>
                    Back
                </button>
                <button class="btn btn-primary" id="continueToTime" disabled>
                    <i class="bx bx-time animated-icon"></i>
                    Continue to Time Selection
                </button>
                </div>
        </div>

        <!-- Step 3: Time Selection -->
        <div class="step-content hidden" id="step3">
            <h2 class="step-title">
                <i class="bx bx-calendar-check animated-icon"></i>
                Select Appointment Time
            </h2>
            <p class="step-subtitle">Choose your preferred date and time with <span id="selectedDoctorName"></span></p>
            
            <div class="time-selection-layout">
            <div class="calendar-section">
                    <div class="section-header">
                        <h3>
                            <i class="bx bx-calendar animated-icon"></i>
                            Select Date
                        </h3>
                    </div>
                    <div class="calendar-container">
                <div class="calendar-header">
                            <h4 id="calendarMonth">December 2024</h4>
                            <div class="calendar-nav">
                                <button class="btn btn-outline" id="prevMonth">
                                    <i class="bx bx-chevron-left"></i>
                                </button>
                                <button class="btn btn-outline" id="nextMonth">
                                    <i class="bx bx-chevron-right"></i>
                                </button>
                        </div>
                    </div>
                        <div class="calendar-grid" id="calendarGrid">
                            <!-- Calendar will be populated by JavaScript -->
                </div>
            </div>
        </div>
                
                <div class="time-slots-section">
                    <div class="section-header">
                        <h3>
                            <i class="bx bx-time animated-icon"></i>
                            Available Times
                        </h3>
                        <span class="selected-date-display" id="selectedDateDisplay">Select a date first</span>
                    </div>
                    <div id="timeSlotsContainer">
                        <div class="time-slots-header">
                            <div class="time-period">
                                <i class="bx bx-sun"></i>
                                <span>Morning</span>
                            </div>
                        </div>
                        <div class="time-slots-grid" id="morningSlots">
                            <!-- Morning slots -->
                        </div>
                        
                        <div class="time-slots-header">
                            <div class="time-period">
                                <i class="bx bx-time-five"></i>
                                <span>Afternoon</span>
                            </div>
                        </div>
                        <div class="time-slots-grid" id="afternoonSlots">
                            <!-- Afternoon slots -->
                        </div>
                        
                        <div class="time-slots-header">
                            <div class="time-period">
                                <i class="bx bx-moon"></i>
                                <span>Evening</span>
                            </div>
                        </div>
                        <div class="time-slots-grid" id="eveningSlots">
                            <!-- Evening slots -->
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-outline" id="backToDoctor">
                    <i class="bx bx-arrow-back"></i>
                    Back
                </button>
                <button class="btn btn-primary" id="continueToConfirm" disabled>
                    <i class="bx bx-check-circle animated-icon"></i>
                    Continue to Confirmation
                </button>
            </div>
        </div>

        <!-- Step 4: Confirmation -->
        <div class="step-content hidden" id="step4">
            <h2 class="step-title">
                <i class="bx bx-clipboard-check animated-icon"></i>
                Confirm Your Appointment
            </h2>
            <p class="step-subtitle">Review your appointment details and provide contact information</p>
            
            <div class="confirmation-layout">
                <div class="appointment-summary-section">
                    <div class="summary-header">
                        <i class="bx bx-calendar-event"></i>
                        <h3>Appointment Summary</h3>
                    </div>
                    
                    <div class="appointment-summary">
                        <div class="summary-card">
                            <div class="summary-icon">
                                <i class="bx bx-building-house"></i>
                            </div>
                            <div class="summary-details">
                                <span class="summary-label">Hospital</span>
                                <span class="summary-value" id="summaryHospital">City General Hospital</span>
                                <span class="summary-extra" id="summaryHospitalAddress">123 Main Street, Downtown</span>
                            </div>
                        </div>
                        
                        <div class="summary-card">
                            <div class="summary-icon">
                                <i class="bx bx-user-md"></i>
                            </div>
                            <div class="summary-details">
                                <span class="summary-label">Doctor</span>
                                <span class="summary-value" id="summaryDoctor">Dr. Sarah Johnson</span>
                                <span class="summary-extra" id="summaryDoctorSpecialty">Cardiology Specialist</span>
                            </div>
                        </div>
                        
                        <div class="summary-card">
                            <div class="summary-icon">
                                <i class="bx bx-calendar"></i>
                            </div>
                            <div class="summary-details">
                                <span class="summary-label">Date & Time</span>
                                <span class="summary-value" id="summaryDateTime">December 15, 2024 at 2:00 PM</span>
                                <span class="summary-extra">Estimated duration: 30 minutes</span>
                            </div>
                        </div>
                        
                        <div class="summary-card">
                            <div class="summary-icon">
                                <i class="bx bx-dollar"></i>
                            </div>
                            <div class="summary-details">
                                <span class="summary-label">Consultation Fee</span>
                                <span class="summary-value" id="summaryFee">$250</span>
                                <span class="summary-extra">Payment at clinic</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="appointment-instructions">
                        <h4>
                            <i class="bx bx-info-circle"></i>
                            Important Instructions
                        </h4>
                        <ul>
                            <li><i class="bx bx-check"></i> Arrive 15 minutes early for check-in</li>
                            <li><i class="bx bx-check"></i> Bring a valid ID and insurance card</li>
                            <li><i class="bx bx-check"></i> Prepare your medical history and current medications</li>
                            <li><i class="bx bx-check"></i> Fast for 8 hours if blood work is required</li>
                        </ul>
                    </div>
                </div>
                
                <div class="contact-form-section">
                    <div class="form-header">
                        <i class="bx bx-user-detail"></i>
                        <h3>Contact Information</h3>
                    </div>
            
                    <form id="appointmentForm">
                        <div class="form-row">
                    <div class="form-group">
                                <label>
                                    <i class="bx bx-user"></i>
                                    First Name *
                                </label>
                                <input type="text" class="form-control" id="firstName" required placeholder="Enter your first name">
                    </div>
                    <div class="form-group">
                                <label>
                                    <i class="bx bx-user"></i>
                                    Last Name *
                                </label>
                                <input type="text" class="form-control" id="lastName" required placeholder="Enter your last name">
                    </div>
                        </div>
                        
                        <div class="form-row">
                    <div class="form-group">
                                <label>
                                    <i class="bx bx-envelope"></i>
                                    Email Address *
                                </label>
                                <input type="email" class="form-control" id="email" required placeholder="your.email@example.com">
                    </div>
                    <div class="form-group">
                                <label>
                                    <i class="bx bx-phone"></i>
                                    Phone Number *
                                </label>
                                <input type="tel" class="form-control" id="phone" required placeholder="+1 (555) 123-4567">
                    </div>
                        </div>
                        
                        <div class="form-row">
                    <div class="form-group">
                                <label>
                                    <i class="bx bx-calendar-heart"></i>
                                    Date of Birth *
                                </label>
                                <input type="date" class="form-control" id="dob" required>
                    </div>
                    <div class="form-group">
                                <label>
                                    <i class="bx bx-card"></i>
                                    Insurance Provider
                                </label>
                                <select class="form-control" id="insurance">
                                    <option value="">Select Insurance</option>
                                    <option value="blue-cross">Blue Cross Blue Shield</option>
                                    <option value="aetna">Aetna</option>
                                    <option value="cigna">Cigna</option>
                                    <option value="united">United Healthcare</option>
                                    <option value="kaiser">Kaiser Permanente</option>
                                    <option value="self-pay">Self Pay</option>
                        </select>
                    </div>
                        </div>
                        
                        <div class="form-group">
                            <label>
                                <i class="bx bx-note"></i>
                                Reason for Visit
                            </label>
                            <textarea class="form-control" id="reason" rows="3" placeholder="Briefly describe your symptoms or reason for the appointment (optional)"></textarea>
                        </div>
                        
                        <div class="reminder-preferences">
                            <h5>
                                <i class="bx bx-bell animated-icon"></i>
                                Reminder Preferences
                            </h5>
                    <div class="form-group">
                        <label class="checkbox-container">
                                    <input type="checkbox" id="smsReminder" checked>
                            <span class="checkmark"></span>
                                    <i class="bx bx-message-dots"></i>
                                    Send SMS reminder 24 hours before appointment
                        </label>
                    </div>
                            
                            <div class="form-group">
                                <label class="checkbox-container">
                                    <input type="checkbox" id="emailReminder" checked>
                                    <span class="checkmark"></span>
                                    <i class="bx bx-envelope-open"></i>
                                    Send email reminder 2 hours before appointment
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="checkbox-container">
                                <input type="checkbox" id="terms" required>
                                <span class="checkmark"></span>
                                I agree to the <a href="#" style="color: #007BFF;">Terms of Service</a> and <a href="#" style="color: #007BFF;">Privacy Policy</a> *
                            </label>
                    </div>
                </form>
            </div>
        </div>
            
            <div class="action-buttons">
                <button class="btn btn-outline" id="backToTime">
                    <i class="bx bx-arrow-back"></i>
                    Back to Time Selection
                </button>
                <button class="btn btn-success" id="confirmAppointment">
                    <i class="bx bx-check-double animated-icon"></i>
                    Confirm Appointment
                </button>
            </div>
    </div>

        <!-- Success Message -->
        <div class="step-content hidden" id="successMessage">
            <div class="success-container">
                <div class="success-animation">
                    <div class="success-circle">
                        <i class="bx bx-check animated-icon success-icon"></i>
                    </div>
                    <div class="success-ripple"></div>
                </div>
                
                <h2 class="success-title">
                    <i class="bx bx-party animated-icon"></i>
                    Appointment Confirmed!
                </h2>
                <p class="success-subtitle">
                    Your appointment has been successfully booked. You'll receive confirmation via email and SMS.
                </p>
                
                <div class="confirmation-details">
                    <div class="confirmation-card">
                        <div class="confirmation-header">
                            <i class="bx bx-receipt animated-icon"></i>
                            <h3>Booking Confirmation</h3>
                        </div>
                        
                        <div class="confirmation-info">
                            <div class="info-item">
                                <i class="bx bx-hash"></i>
                                <div>
                                    <span class="info-label">Confirmation ID</span>
                                    <span class="info-value" id="confirmationId">APT-2024-001234</span>
                                </div>
                            </div>
                            
                            <div class="info-item">
                                <i class="bx bx-time"></i>
                                <div>
                                    <span class="info-label">Booking Time</span>
                                    <span class="info-value" id="bookingTime">December 10, 2024 at 3:45 PM</span>
                                </div>
                            </div>
                            
                            <div class="info-item">
                                <i class="bx bx-calendar-star"></i>
                                <div>
                                    <span class="info-label">Appointment Date</span>
                                    <span class="info-value" id="finalAppointmentDate">December 15, 2024 at 2:00 PM</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="next-steps">
                        <h4>
                            <i class="bx bx-list-check animated-icon"></i>
                            What's Next?
                        </h4>
                        <div class="steps-grid">
                            <div class="next-step">
                                <div class="step-icon">
                                    <i class="bx bx-envelope"></i>
                                </div>
                                <div class="step-content">
                                    <h5>Check Your Email</h5>
                                    <p>Confirmation details sent to your email</p>
                                </div>
                            </div>
                            
                            <div class="next-step">
                                <div class="step-icon">
                                    <i class="bx bx-message-dots"></i>
                                </div>
                                <div class="step-content">
                                    <h5>SMS Reminder</h5>
                                    <p>You'll get reminders 24h and 2h before</p>
                                </div>
                            </div>
                            
                            <div class="next-step">
                                <div class="step-icon">
                                    <i class="bx bx-calendar-plus"></i>
                                </div>
                                <div class="step-content">
                                    <h5>Add to Calendar</h5>
                                    <p>Download calendar invite for easy tracking</p>
                                </div>
                            </div>
                            
                            <div class="next-step">
                                <div class="step-icon">
                                    <i class="bx bx-phone"></i>
                                </div>
                                <div class="step-content">
                                    <h5>Need Changes?</h5>
                                    <p>Call clinic to reschedule or cancel</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="success-actions">
                    <button class="btn btn-primary" onclick="downloadCalendarEvent()">
                        <i class="bx bx-download animated-icon"></i>
                        Add to Calendar
                    </button>
                    <button class="btn btn-outline" onclick="resetBooking()">
                        <i class="bx bx-plus-circle"></i>
                        Book Another
                    </button>
                    <button class="btn btn-outline" onclick="window.location.href='dashboard.html'">
                        <i class="bx bx-home"></i>
                        Go to Dashboard
                    </button>
                </div>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Date & Time:</span>
                        <span class="summary-value" id="finalDateTime"></span>
                    </div>
                </div>
                
                <div class="action-buttons" style="justify-content: center;">
                    <button class="btn btn-outline" onclick="window.location.href='dashboard.html'">Go to Dashboard</button>
                    <button class="btn btn-primary" onclick="location.reload()">Book Another</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Include Footer -->


        <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.38.4/dist/umd/supabase.min.js"></script>
    <script src="/js/modern.js"></script>
    <script src="/js/mobile-menu.js"></script>
    <script src="/js/supabaseClient.js"></script>
    <script src="/js/appointments.js"></script>
    <script src="/js/auth.js"></script>

    <script>
        // Enhanced hospital data with more features
        const hospitals = [
            {
                id: 1,
                name: "City General Hospital",
                address: "123 Main Street, Downtown",
                type: "general",
                rating: 4.8,
                reviews: 1247,
                departments: 15,
                beds: 250,
                image: "https://images.unsplash.com/photo-1586773860418-d37222d8fce3?w=400&h=240&fit=crop",
                phone: "+1 (555) 123-4567",
                emergency: true,
                parkingFree: true,
                waitTime: "15-30 min",
                specialties: ["Cardiology", "Neurology", "Orthopedics", "Emergency"],
                facilities: ["ICU", "Emergency Room", "Laboratory", "Pharmacy", "MRI", "CT Scan"],
                insurance: ["Medicare", "Blue Cross", "Aetna", "Cigna"],
                color: "#4CAF50",
                established: 1985,
                website: "www.citygeneral.com"
            },
            {
                id: 2,
                name: "Heart Care Specialty Center",
                address: "456 Oak Avenue, Medical District",
                type: "specialty",
                rating: 4.9,
                reviews: 892,
                departments: 8,
                beds: 120,
                image: "https://images.unsplash.com/photo-1551190822-a9333d879b1f?w=400&h=240&fit=crop",
                phone: "+1 (555) 234-5678",
                emergency: false,
                parkingFree: false,
                waitTime: "20-45 min",
                specialties: ["Cardiology", "Cardiac Surgery", "Interventional Cardiology"],
                facilities: ["Cardiac Cath Lab", "Heart Surgery", "Rehabilitation", "Pharmacy"],
                insurance: ["Medicare", "Blue Cross", "United Health"],
                color: "#F44336",
                established: 1998,
                website: "www.heartcare.com"
            },
            {
                id: 3,
                name: "Children's Medical Center",
                address: "789 Pine Road, Family Quarter",
                type: "pediatric",
                rating: 4.7,
                reviews: 1056,
                departments: 12,
                beds: 180,
                image: "https://images.unsplash.com/photo-1576091160399-112ba8d25d1f?w=400&h=240&fit=crop",
                phone: "+1 (555) 345-6789",
                emergency: true,
                parkingFree: true,
                waitTime: "10-25 min",
                specialties: ["Pediatrics", "Pediatric Surgery", "NICU", "Child Psychology"],
                facilities: ["NICU", "Pediatric Emergency", "Play Therapy", "Family Rooms"],
                insurance: ["Medicare", "Medicaid", "Blue Cross", "Aetna"],
                color: "#FF9800",
                established: 1992,
                website: "www.childrensmedical.com"
            },
            {
                id: 4,
                name: "Emergency Care Hospital",
                address: "321 Emergency Blvd, Central",
                type: "emergency",
                rating: 4.6,
                reviews: 734,
                departments: 10,
                beds: 200,
                image: "https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?w=400&h=240&fit=crop",
                phone: "+1 (555) 456-7890",
                emergency: true,
                parkingFree: true,
                waitTime: "5-15 min",
                specialties: ["Emergency Medicine", "Trauma", "Critical Care"],
                facilities: ["Trauma Center", "Emergency Room", "Helicopter Pad", "Blood Bank"],
                insurance: ["All Major Insurance", "Medicare", "Medicaid"],
                color: "#2196F3",
                established: 2005,
                website: "www.emergencycare.com"
            },
            {
                id: 5,
                name: "Metropolitan Medical Center",
                address: "555 University Ave, Campus Area",
                type: "general",
                rating: 4.8,
                reviews: 1523,
                departments: 20,
                beds: 350,
                image: "https://images.unsplash.com/photo-1538108149393-fbbd81895907?w=400&h=240&fit=crop",
                phone: "+1 (555) 567-8901",
                emergency: true,
                parkingFree: false,
                waitTime: "25-40 min",
                specialties: ["All Specialties", "Research", "Teaching Hospital"],
                facilities: ["Research Center", "Medical School", "All Departments", "Robot Surgery"],
                insurance: ["All Major Insurance", "International Coverage"],
                color: "#9C27B0",
                established: 1975,
                website: "www.metropolitan.com"
            }
        ];

        // Enhanced doctor data with detailed profiles
        const doctors = {
            1: [
                { 
                    id: 1, 
                    name: "Dr. Sarah Johnson", 
                    specialty: "cardiology", 
                    rating: 4.9, 
                    reviews: 245,
                    experience: 15, 
                    avatar: "https://images.unsplash.com/photo-1559839734-2b71ea197ec2?w=100&h=100&fit=crop&crop=face",
                    education: "Harvard Medical School",
                    certifications: ["Board Certified Cardiologist", "Interventional Cardiology"],
                    languages: ["English", "Spanish"],
                    consultationFee: "$250",
                    nextAvailable: "Tomorrow 2:00 PM",
                    about: "Specializes in preventive cardiology and heart disease management",
                    achievements: ["Top Doctor 2023", "Patient Choice Award"]
                },
                { 
                    id: 2, 
                    name: "Dr. Michael Chen", 
                    specialty: "neurology", 
                    rating: 4.8, 
                    reviews: 189,
                    experience: 12, 
                    avatar: "https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=100&h=100&fit=crop&crop=face",
                    education: "Johns Hopkins University",
                    certifications: ["Board Certified Neurologist", "Epilepsy Specialist"],
                    languages: ["English", "Mandarin", "Cantonese"],
                    consultationFee: "$300",
                    nextAvailable: "Today 4:30 PM",
                    about: "Expert in epilepsy, stroke, and neurodegenerative diseases",
                    achievements: ["Research Excellence Award", "Best Doctor 2022"]
                },
                { 
                    id: 3, 
                    name: "Dr. Emily Rodriguez", 
                    specialty: "dermatology", 
                    rating: 4.7, 
                    reviews: 156,
                    experience: 8, 
                    avatar: "https://images.unsplash.com/photo-1594824475550-8605ceb8e48c?w=100&h=100&fit=crop&crop=face",
                    education: "Stanford Medical School",
                    certifications: ["Board Certified Dermatologist", "Cosmetic Dermatology"],
                    languages: ["English", "Spanish", "Portuguese"],
                    consultationFee: "$200",
                    nextAvailable: "Friday 10:00 AM",
                    about: "Focuses on skin cancer prevention and cosmetic procedures",
                    achievements: ["Young Doctor Award", "Patient Satisfaction Excellence"]
                }
            ],
            2: [
                { 
                    id: 4, 
                    name: "Dr. Robert Kim", 
                    specialty: "cardiology", 
                    rating: 4.9, 
                    reviews: 312,
                    experience: 20, 
                    avatar: "https://images.unsplash.com/photo-1582750433449-648ed127bb54?w=100&h=100&fit=crop&crop=face",
                    education: "Mayo Clinic College of Medicine",
                    certifications: ["Board Certified Cardiologist", "Cardiac Surgery", "Heart Transplant"],
                    languages: ["English", "Korean"],
                    consultationFee: "$350",
                    nextAvailable: "Monday 9:00 AM",
                    about: "Leading expert in cardiac surgery and heart transplantation",
                    achievements: ["Lifetime Achievement Award", "International Recognition"]
                },
                { 
                    id: 5, 
                    name: "Dr. Lisa Anderson", 
                    specialty: "cardiology", 
                    rating: 4.8, 
                    reviews: 198,
                    experience: 14, 
                    avatar: "https://images.unsplash.com/photo-1551601651-2a8555f1a136?w=100&h=100&fit=crop&crop=face",
                    education: "Cleveland Clinic Lerner College",
                    certifications: ["Board Certified Cardiologist", "Preventive Cardiology"],
                    languages: ["English", "German"],
                    consultationFee: "$275",
                    nextAvailable: "Wednesday 1:30 PM",
                    about: "Specializes in women's heart health and prevention",
                    achievements: ["Women in Medicine Award", "Community Service Recognition"]
                }
            ],
            3: [
                { 
                    id: 6, 
                    name: "Dr. James Wilson", 
                    specialty: "pediatric", 
                    rating: 4.9, 
                    reviews: 267,
                    experience: 18, 
                    avatar: "https://images.unsplash.com/photo-1607990281513-2c110a25bd8c?w=100&h=100&fit=crop&crop=face",
                    education: "Children's Hospital of Philadelphia",
                    certifications: ["Board Certified Pediatrician", "Pediatric Emergency Medicine"],
                    languages: ["English", "French"],
                    consultationFee: "$180",
                    nextAvailable: "Today 3:00 PM",
                    about: "Experienced in pediatric emergency care and child development",
                    achievements: ["Pediatric Excellence Award", "Family Favorite Doctor"]
                },
                { 
                    id: 7, 
                    name: "Dr. Maria Garcia", 
                    specialty: "pediatric", 
                    rating: 4.8, 
                    reviews: 223,
                    experience: 11, 
                    avatar: "https://images.unsplash.com/photo-1638202993928-7267aad84c31?w=100&h=100&fit=crop&crop=face",
                    education: "Texas Children's Hospital",
                    certifications: ["Board Certified Pediatrician", "Child Psychology"],
                    languages: ["English", "Spanish"],
                    consultationFee: "$160",
                    nextAvailable: "Tomorrow 11:00 AM",
                    about: "Specializes in behavioral pediatrics and child mental health",
                    achievements: ["Compassionate Care Award", "Rising Star 2021"]
                }
            ],
            4: [
                { 
                    id: 8, 
                    name: "Dr. David Thompson", 
                    specialty: "emergency", 
                    rating: 4.7, 
                    reviews: 145,
                    experience: 16, 
                    avatar: "https://images.unsplash.com/photo-1628890923662-2cb23c2e0cfe?w=100&h=100&fit=crop&crop=face",
                    education: "Emergency Medicine Residency",
                    certifications: ["Board Certified Emergency Medicine", "Trauma Specialist"],
                    languages: ["English"],
                    consultationFee: "$200",
                    nextAvailable: "Available 24/7",
                    about: "Expert in emergency trauma care and critical medicine",
                    achievements: ["Heroic Service Award", "Life Saver Recognition"]
                },
                { 
                    id: 9, 
                    name: "Dr. Jennifer Lee", 
                    specialty: "emergency", 
                    rating: 4.6, 
                    reviews: 98,
                    experience: 9, 
                    avatar: "https://images.unsplash.com/photo-1559757175-0eb30cd8c063?w=100&h=100&fit=crop&crop=face",
                    education: "Emergency Medicine Fellowship",
                    certifications: ["Board Certified Emergency Medicine", "Pediatric Emergency"],
                    languages: ["English", "Korean"],
                    consultationFee: "$180",
                    nextAvailable: "Available 24/7",
                    about: "Specialized in pediatric emergency medicine and toxicology",
                    achievements: ["Emergency Excellence Award", "Quick Response Recognition"]
                }
            ],
            5: [
                { 
                    id: 10, 
                    name: "Dr. Alexander Brown", 
                    specialty: "orthopedics", 
                    rating: 4.8, 
                    reviews: 178,
                    experience: 13, 
                    avatar: "https://images.unsplash.com/photo-1593007803002-e58264d20697?w=100&h=100&fit=crop&crop=face",
                    education: "Orthopedic Surgery Residency",
                    certifications: ["Board Certified Orthopedic Surgeon", "Sports Medicine"],
                    languages: ["English", "Italian"],
                    consultationFee: "$320",
                    nextAvailable: "Thursday 2:00 PM",
                    about: "Specializes in sports injuries and joint replacement surgery",
                    achievements: ["Sports Medicine Excellence", "Innovation in Surgery Award"]
                },
                { 
                    id: 11, 
                    name: "Dr. Rachel Davis", 
                    specialty: "neurology", 
                    rating: 4.9, 
                    reviews: 234,
                    experience: 17, 
                    avatar: "https://images.unsplash.com/photo-1651008376811-b90baee60c1f?w=100&h=100&fit=crop&crop=face",
                    education: "Neurology Fellowship Program",
                    certifications: ["Board Certified Neurologist", "Movement Disorders Specialist"],
                    languages: ["English", "French", "Arabic"],
                    consultationFee: "$310",
                    nextAvailable: "Monday 10:30 AM",
                    about: "Expert in Parkinson's disease and movement disorders",
                    achievements: ["Research Pioneer Award", "International Speaker"]
                }
            ]
        };

        // Application state
        let currentStep = 1;
        let selectedHospital = null;
        let selectedDoctor = null;
        let selectedDate = null;
        let selectedTime = null;

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {

            
            initializeHospitals();
            initializeEventListeners();
            generateCalendar();
        });

        function initializeHospitals() {
            const grid = document.getElementById('hospitalsGrid');
            grid.innerHTML = hospitals.map(hospital => `
                <div class="hospital-card" data-id="${hospital.id}" onclick="selectHospital(${hospital.id})">
                    <div class="hospital-image">
                        <img src="${hospital.image}" alt="${hospital.name}" onerror="this.style.display='none'">
                        <div class="hospital-badges">
                            ${hospital.emergency ? '<span class="badge emergency"><i class="bx bx-plus"></i> Emergency</span>' : ''}
                            ${hospital.parkingFree ? '<span class="badge parking"><i class="bx bx-car"></i> Free Parking</span>' : ''}
                        </div>
                    </div>
                    <div class="hospital-content">
                        <div class="hospital-header">
                            <div class="hospital-main-info">
                                <div class="hospital-name">${hospital.name}</div>
                                <div class="hospital-address"><i class="bx bx-map"></i> ${hospital.address}</div>
                                <div class="hospital-contact">
                                    <span><i class="bx bx-phone"></i> ${hospital.phone}</span>
                                    <span class="wait-time"><i class="bx bx-time"></i> Wait: ${hospital.waitTime}</span>
                                </div>
                            </div>
                        </div>
                        <div class="hospital-details">
                            <div class="specialties">
                                <h4><i class="bx bx-medical"></i> Specialties</h4>
                                <div class="specialty-tags">
                                    ${hospital.specialties.slice(0, 3).map(spec => `<span class="tag">${spec}</span>`).join('')}
                                    ${hospital.specialties.length > 3 ? `<span class="tag more">+${hospital.specialties.length - 3} more</span>` : ''}
                                </div>
                            </div>
                            <div class="hospital-stats">
                                <div class="stat rating">
                                    <i class="bx bx-star"></i>
                                    <span>${hospital.rating} (${hospital.reviews} reviews)</span>
                                </div>
                                <div class="stat">
                                    <i class="bx bx-buildings"></i>
                                    <span>${hospital.departments} Departments</span>
                                </div>
                                <div class="stat">
                                    <i class="bx bx-bed"></i>
                                    <span>${hospital.beds} Beds</span>
                                </div>
                                <div class="stat">
                                    <i class="bx bx-calendar"></i>
                                    <span>Est. ${hospital.established}</span>
                                </div>
                            </div>
                            <div class="hospital-features">
                                <div class="feature-group">
                                    <h5>Key Facilities</h5>
                                    <div class="feature-list">
                                        ${hospital.facilities.slice(0, 4).map(facility => `<span><i class="bx bx-check"></i> ${facility}</span>`).join('')}
                                    </div>
                                </div>
                                <div class="insurance-info">
                                    <h5><i class="bx bx-shield"></i> Insurance Accepted</h5>
                                    <div class="insurance-list">
                                        ${hospital.insurance.slice(0, 3).join(', ')}
                                        ${hospital.insurance.length > 3 ? '...' : ''}
                                    </div>
                                </div>
                            </div>
                            <div class="hospital-actions">
                                <button class="btn-quick" onclick="event.stopPropagation(); viewHospitalDetails(${hospital.id})">
                                    <i class="bx bx-info-circle"></i> View Details
                                </button>
                                <button class="btn-quick" onclick="event.stopPropagation(); callHospital('${hospital.phone}')">
                                    <i class="bx bx-phone"></i> Call Now
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function selectHospital(hospitalId) {
            // Remove previous selection
            document.querySelectorAll('.hospital-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Add selection to clicked card
            const selectedCard = document.querySelector(`[data-id="${hospitalId}"]`);
            selectedCard.classList.add('selected');
            
            selectedHospital = hospitals.find(h => h.id === hospitalId);
            document.getElementById('continueToDoctor').disabled = false;
        }

        function initializeDoctors(hospitalId) {
            const grid = document.getElementById('doctorsGrid');
            const hospitalDoctors = doctors[hospitalId] || [];
            
            grid.innerHTML = hospitalDoctors.map(doctor => `
                <div class="doctor-card" data-id="${doctor.id}" onclick="selectDoctor(${doctor.id})">
                    <div class="doctor-profile">
                        <div class="doctor-avatar" style="background-image: url('${doctor.avatar}')">
                            <div class="availability-indicator ${doctor.nextAvailable.includes('Today') ? 'available' : 'scheduled'}"></div>
                        </div>
                        <div class="doctor-info">
                            <div class="doctor-name">${doctor.name}</div>
                            <div class="doctor-specialty">
                                <i class="bx bx-user-md"></i> 
                                ${doctor.specialty.charAt(0).toUpperCase() + doctor.specialty.slice(1)} Specialist
                            </div>
                            <div class="doctor-education">
                                <i class="bx bx-book"></i> ${doctor.education}
                            </div>
                        </div>
                    </div>
                    
                    <div class="doctor-details">
                        <div class="doctor-stats">
                            <div class="stat rating">
                                <i class="bx bx-star"></i>
                                <span>${doctor.rating} (${doctor.reviews} reviews)</span>
                            </div>
                            <div class="stat">
                                <i class="bx bx-time"></i>
                                <span>${doctor.experience} years experience</span>
                            </div>
                            <div class="stat fee">
                                <i class="bx bx-dollar"></i>
                                <span>${doctor.consultationFee} consultation</span>
                            </div>
                        </div>
                        
                        <div class="doctor-about">
                            <p>${doctor.about}</p>
                        </div>
                        
                        <div class="doctor-qualifications">
                            <h5><i class="bx bx-certification"></i> Certifications</h5>
                            <div class="cert-list">
                                ${doctor.certifications.slice(0, 2).map(cert => `<span class="cert-tag">${cert}</span>`).join('')}
                            </div>
                        </div>
                        
                        <div class="doctor-languages">
                            <h5><i class="bx bx-globe"></i> Languages</h5>
                            <div class="lang-list">
                                ${doctor.languages.join(', ')}
                            </div>
                        </div>
                        
                        <div class="doctor-achievements">
                            <h5><i class="bx bx-trophy"></i> Achievements</h5>
                            <div class="achievement-list">
                                ${doctor.achievements.slice(0, 2).map(achievement => `<span class="achievement-tag">${achievement}</span>`).join('')}
                            </div>
                        </div>
                        
                        <div class="doctor-availability">
                            <div class="next-available">
                                <i class="bx bx-calendar-check"></i>
                                <span>Next Available: <strong>${doctor.nextAvailable}</strong></span>
                            </div>
                        </div>
                        
                        <div class="doctor-actions">
                            <button class="btn-quick" onclick="event.stopPropagation(); viewDoctorProfile(${doctor.id})">
                                <i class="bx bx-user"></i> View Profile
                            </button>
                            <button class="btn-quick" onclick="event.stopPropagation(); quickBook(${doctor.id})">
                                <i class="bx bx-calendar-plus"></i> Quick Book
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function selectDoctor(doctorId) {
            // Remove previous selection
            document.querySelectorAll('.doctor-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Add selection to clicked card
            const selectedCard = document.querySelector(`[data-id="${doctorId}"]`);
            selectedCard.classList.add('selected');
            
            // Find doctor across all hospital arrays
            selectedDoctor = null;
            Object.values(doctors).forEach(hospitalDoctors => {
                const doctor = hospitalDoctors.find(d => d.id === doctorId);
                if (doctor) selectedDoctor = doctor;
            });
            
            document.getElementById('continueToTime').disabled = false;
        }

        function generateCalendar() {
            const today = new Date();
            const currentMonth = today.getMonth();
            const currentYear = today.getFullYear();
            
            const monthNames = ["January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"];
            
            document.getElementById('calendarMonth').textContent = `${monthNames[currentMonth]} ${currentYear}`;
            
            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            
            let calendarHTML = '';
            
            // Add empty cells for days before the first day of the month
            for (let i = 0; i < firstDay; i++) {
                calendarHTML += '<div class="calendar-day disabled"></div>';
            }
            
            // Add days of the month
            for (let day = 1; day <= daysInMonth; day++) {
                const isToday = day === today.getDate();
                const isPast = day < today.getDate();
                const dayClass = isPast ? 'disabled' : (isToday ? 'today' : '');
                
                calendarHTML += `<div class="calendar-day ${dayClass}" onclick="selectDate(${day})">${day}</div>`;
            }
            
            document.getElementById('calendarGrid').innerHTML = calendarHTML;
        }

        function selectDate(day) {
            if (event.target.classList.contains('disabled')) return;
            
            // Remove previous selection
            document.querySelectorAll('.calendar-day').forEach(cell => {
                cell.classList.remove('selected');
            });
            
            // Add selection
            event.target.classList.add('selected');
            
            selectedDate = new Date();
            selectedDate.setDate(day);
            
            // Show time slots
            showTimeSlots();
        }

        function showTimeSlots() {
            const container = document.getElementById('timeSlotsContainer');
            const slotsGrid = document.getElementById('timeSlots');
            
            // Generate time slots from 9 AM to 5 PM
            const slots = [];
            for (let hour = 9; hour < 17; hour++) {
                for (let minute = 0; minute < 60; minute += 30) {
                    const time = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;
                    const isAvailable = Math.random() > 0.3; // 70% chance of being available
                    slots.push({ time, isAvailable });
                }
            }
            
            slotsGrid.innerHTML = slots.map(slot => `
                <div class="time-slot ${slot.isAvailable ? '' : 'unavailable'}" 
                     onclick="selectTime('${slot.time}')" 
                     ${slot.isAvailable ? '' : 'title="Not available"'}>
                    ${slot.time}
                </div>
            `).join('');
            
            container.classList.remove('hidden');
        }

        function selectTime(time) {
            if (event.target.classList.contains('unavailable')) return;
            
            // Remove previous selection
            document.querySelectorAll('.time-slot').forEach(slot => {
                slot.classList.remove('selected');
            });
            
            // Add selection
            event.target.classList.add('selected');
            
            selectedTime = time;
            document.getElementById('continueToConfirm').disabled = false;
        }

        function updateProgressBar(step) {
            document.querySelectorAll('.progress-step').forEach((stepEl, index) => {
                stepEl.classList.remove('active', 'completed');
                if (index + 1 < step) {
                    stepEl.classList.add('completed');
                } else if (index + 1 === step) {
                    stepEl.classList.add('active');
                }
            });
        }

        function showStep(step) {
            // Hide all steps
            document.querySelectorAll('.step-content').forEach(stepEl => {
                stepEl.classList.add('hidden');
            });
            
            // Show current step
            document.getElementById(`step${step}`).classList.remove('hidden');
            
            // Update progress bar
            updateProgressBar(step);
            
            currentStep = step;
        }

        function initializeEventListeners() {
            // Navigation buttons
            document.getElementById('continueToDoctor').addEventListener('click', () => {
                document.getElementById('selectedHospitalName').textContent = selectedHospital.name;
                initializeDoctors(selectedHospital.id);
                showStep(2);
            });
            
            document.getElementById('backToHospital').addEventListener('click', () => {
                showStep(1);
            });
            
            document.getElementById('continueToTime').addEventListener('click', () => {
                document.getElementById('selectedDoctorName').textContent = selectedDoctor.name;
                showStep(3);
            });
            
            document.getElementById('backToDoctor').addEventListener('click', () => {
                showStep(2);
            });
            
            document.getElementById('continueToConfirm').addEventListener('click', () => {
                updateSummary();
                showStep(4);
            });
            
            document.getElementById('backToTime').addEventListener('click', () => {
                showStep(3);
            });
            
            document.getElementById('confirmAppointment').addEventListener('click', confirmAppointment);
            
            // Search functionality
            document.getElementById('hospitalSearch').addEventListener('input', filterHospitals);
            document.getElementById('doctorSearch').addEventListener('input', filterDoctors);
            
            // Filter chips
            document.querySelectorAll('.filter-chip').forEach(chip => {
                chip.addEventListener('click', handleFilterClick);
            });
        }

        function updateSummary() {
            document.getElementById('summaryHospital').textContent = selectedHospital.name;
            document.getElementById('summaryDoctor').textContent = selectedDoctor.name;
            document.getElementById('summaryDate').textContent = selectedDate.toLocaleDateString();
            document.getElementById('summaryTime').textContent = selectedTime;
        }

        function confirmAppointment() {
            const form = document.getElementById('appointmentForm');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }
            
            // Generate confirmation ID
            const confirmationId = 'APT' + Math.random().toString(36).substr(2, 9).toUpperCase();
            document.getElementById('confirmationId').textContent = confirmationId;
            document.getElementById('finalDateTime').textContent = 
                `${selectedDate.toLocaleDateString()} at ${selectedTime}`;
            
            document.getElementById('successMessage').classList.remove('hidden');
            document.getElementById('step4').classList.add('hidden');
            
            // Update progress bar to show completion
            document.querySelectorAll('.progress-step').forEach(step => {
                step.classList.add('completed');
                step.classList.remove('active');
            });
        }

        function filterHospitals() {
            const searchTerm = document.getElementById('hospitalSearch').value.toLowerCase();
            const cards = document.querySelectorAll('.hospital-card');
            
            cards.forEach(card => {
                const hospitalName = card.querySelector('.hospital-name').textContent.toLowerCase();
                const hospitalAddress = card.querySelector('.hospital-address').textContent.toLowerCase();
                
                if (hospitalName.includes(searchTerm) || hospitalAddress.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function filterDoctors() {
            const searchTerm = document.getElementById('doctorSearch').value.toLowerCase();
            const cards = document.querySelectorAll('.doctor-card');
            
            cards.forEach(card => {
                const doctorName = card.querySelector('.doctor-name').textContent.toLowerCase();
                const doctorSpecialty = card.querySelector('.doctor-specialty').textContent.toLowerCase();
                
                if (doctorName.includes(searchTerm) || doctorSpecialty.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function handleFilterClick(event) {
            const filter = event.target.dataset.filter;
            const isHospitalFilter = event.target.closest('#step1');
            
            // Update active filter chip
            event.target.parentNode.querySelectorAll('.filter-chip').forEach(chip => {
                chip.classList.remove('active');
            });
            event.target.classList.add('active');
            
            if (isHospitalFilter) {
                filterHospitalsByType(filter);
            } else {
                filterDoctorsBySpecialty(filter);
            }
        }

        function filterHospitalsByType(type) {
            const cards = document.querySelectorAll('.hospital-card');
            
            cards.forEach(card => {
                const hospitalId = parseInt(card.dataset.id);
                const hospital = hospitals.find(h => h.id === hospitalId);
                
                if (type === 'all' || hospital.type === type) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function filterDoctorsBySpecialty(specialty) {
            const cards = document.querySelectorAll('.doctor-card');
            
            cards.forEach(card => {
                const doctorSpecialty = card.querySelector('.doctor-specialty').textContent.toLowerCase();
                
                if (specialty === 'all' || doctorSpecialty === specialty) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // New enhanced functionality for detailed views
        function viewHospitalDetails(hospitalId) {
            const hospital = hospitals.find(h => h.id === hospitalId);
            
            const detailsHTML = `
                <div class="hospital-details-modal">
                    <div class="modal-header">
                        <img src="${hospital.image}" alt="${hospital.name}" class="hospital-detail-image">
                        <div class="hospital-detail-info">
                            <h2>${hospital.name}</h2>
                            <p class="address"><i class="bx bx-map"></i> ${hospital.address}</p>
                            <div class="rating-large">
                                <i class="bx bx-star"></i>
                                <span>${hospital.rating} (${hospital.reviews} reviews)</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="modal-content">
                        <div class="info-section">
                            <h3><i class="bx bx-info-circle"></i> General Information</h3>
                            <div class="info-grid">
                                <div class="info-item">
                                    <label>Established</label>
                                    <span>${hospital.established}</span>
                                </div>
                                <div class="info-item">
                                    <label>Phone</label>
                                    <span>${hospital.phone}</span>
                                </div>
                                <div class="info-item">
                                    <label>Website</label>
                                    <span>${hospital.website}</span>
                                </div>
                                <div class="info-item">
                                    <label>Average Wait Time</label>
                                    <span>${hospital.waitTime}</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="info-section">
                            <h3><i class="bx bx-medical"></i> Medical Specialties</h3>
                            <div class="specialty-grid">
                                ${hospital.specialties.map(spec => `<span class="specialty-item">${spec}</span>`).join('')}
                            </div>
                        </div>
                        
                        <div class="info-section">
                            <h3><i class="bx bx-buildings"></i> Facilities & Services</h3>
                            <div class="facilities-grid">
                                ${hospital.facilities.map(facility => `<span class="facility-item"><i class="bx bx-check"></i> ${facility}</span>`).join('')}
                            </div>
                        </div>
                        
                        <div class="info-section">
                            <h3><i class="bx bx-shield"></i> Insurance Accepted</h3>
                            <div class="insurance-grid">
                                ${hospital.insurance.map(insurance => `<span class="insurance-item">${insurance}</span>`).join('')}
                            </div>
                        </div>
                    </div>
                    
                    <div class="modal-actions">
                        <button onclick="selectHospital(${hospital.id}); closeModal()" class="btn-primary">
                            <i class="bx bx-calendar-plus"></i> Book Appointment
                        </button>
                        <button onclick="closeModal()" class="btn-secondary">Close</button>
                    </div>
                </div>
            `;
            
            showModal(detailsHTML);
        }

        function viewDoctorProfile(doctorId) {
            // Find the doctor in all hospitals
            let selectedDoctor = null;
            for (const hospitalId in doctors) {
                const doctor = doctors[hospitalId].find(d => d.id === doctorId);
                if (doctor) {
                    selectedDoctor = doctor;
                    break;
                }
            }
            
            if (!selectedDoctor) return;
            
            const profileHTML = `
                <div class="doctor-profile-modal">
                    <div class="modal-header">
                        <div class="doctor-avatar-large" style="background-image: url('${selectedDoctor.avatar}')"></div>
                        <div class="doctor-detail-info">
                            <h2>${selectedDoctor.name}</h2>
                            <p class="specialty-large"><i class="bx bx-user-md"></i> ${selectedDoctor.specialty.charAt(0).toUpperCase() + selectedDoctor.specialty.slice(1)} Specialist</p>
                            <div class="rating-large">
                                <i class="bx bx-star"></i>
                                <span>${selectedDoctor.rating} (${selectedDoctor.reviews} reviews)</span>
                            </div>
                            <div class="availability-large">
                                <i class="bx bx-calendar-check"></i>
                                <span>Next Available: ${selectedDoctor.nextAvailable}</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="modal-content">
                        <div class="info-section">
                            <h3><i class="bx bx-book"></i> Education & Experience</h3>
                            <div class="education-info">
                                <p><strong>Education:</strong> ${selectedDoctor.education}</p>
                                <p><strong>Experience:</strong> ${selectedDoctor.experience} years</p>
                                <p><strong>About:</strong> ${selectedDoctor.about}</p>
                            </div>
                        </div>
                        
                        <div class="info-section">
                            <h3><i class="bx bx-certification"></i> Certifications</h3>
                            <div class="cert-grid">
                                ${selectedDoctor.certifications.map(cert => `<span class="cert-item">${cert}</span>`).join('')}
                            </div>
                        </div>
                        
                        <div class="info-section">
                            <h3><i class="bx bx-trophy"></i> Achievements</h3>
                            <div class="achievement-grid">
                                ${selectedDoctor.achievements.map(achievement => `<span class="achievement-item">${achievement}</span>`).join('')}
                            </div>
                        </div>
                        
                        <div class="info-section">
                            <h3><i class="bx bx-info-circle"></i> Additional Information</h3>
                            <div class="info-grid">
                                <div class="info-item">
                                    <label>Languages</label>
                                    <span>${selectedDoctor.languages.join(', ')}</span>
                                </div>
                                <div class="info-item">
                                    <label>Consultation Fee</label>
                                    <span>${selectedDoctor.consultationFee}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="modal-actions">
                        <button onclick="selectDoctor(${selectedDoctor.id}); closeModal()" class="btn-primary">
                            <i class="bx bx-calendar-plus"></i> Book Appointment
                        </button>
                        <button onclick="closeModal()" class="btn-secondary">Close</button>
                    </div>
                </div>
            `;
            
            showModal(profileHTML);
        }

        function callHospital(phone) {
            if (confirm(`Call ${phone}?`)) {
                window.open(`tel:${phone}`);
            }
        }

        function quickBook(doctorId) {
            const hospitalId = Object.keys(doctors).find(hId => 
                doctors[hId].some(d => d.id === doctorId)
            );
            
            if (hospitalId) {
                selectHospital(parseInt(hospitalId));
                selectDoctor(doctorId);
            }
        }

        function showModal(content) {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal-container">
                    ${content}
                </div>
            `;
            
            modal.addEventListener('click', (e) => {
                if (e.target === modal) closeModal();
            });
            
            document.body.appendChild(modal);
            modal.style.display = 'flex';
        }

        function closeModal() {
            const modal = document.querySelector('.modal-overlay');
            if (modal) {
                modal.remove();
            }
        }

        // Mobile menu toggle function with navbar push-back
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenuOverlay');
            const mobileBackdrop = document.getElementById('mobileMenuBackdrop');
            const mobileToggle = document.querySelector('.mobile-toggle');
            const navbar = document.querySelector('.modern-navbar');
            
            if (mobileMenu.classList.contains('active')) {
                mobileMenu.classList.remove('active');
                mobileBackdrop.classList.remove('active');
                mobileToggle.classList.remove('active');
                navbar.classList.remove('menu-open');
                document.body.style.overflow = '';
            } else {
                mobileMenu.classList.add('active');
                mobileBackdrop.classList.add('active');
                mobileToggle.classList.add('active');
                navbar.classList.add('menu-open');
                document.body.style.overflow = 'hidden';
            }
        }

        // Google Sign In function
        function signInWithGoogle() {
            if (window.authManager) {
                window.authManager.signInWithGoogle();
            } else {
                console.error('Auth manager not initialized');
                alert('Authentication system is loading. Please try again in a moment.');
            }
        }

        // Add active class to current page
        document.addEventListener('DOMContentLoaded', function() {
            const currentPage = window.location.pathname.split('/').pop() || 'index.html';
            const navLinks = document.querySelectorAll('.nav-link, .mobile-nav-link');
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                const href = link.getAttribute('href');
                if (href === currentPage || (currentPage === '' && href === 'index.html')) {
                    link.classList.add('active');
                }
            });
        });

        // Close mobile menu when clicking on nav links
        document.addEventListener('DOMContentLoaded', function() {
            const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
            mobileNavLinks.forEach(link => {
                link.addEventListener('click', function() {
                    setTimeout(() => {
                        toggleMobileMenu();
                    }, 200);
                });
            });
        });

        // Enhanced Features Functions
        function showEmergencyBooking() {
            const modalHTML = `
                <div class="enhanced-modal-content">
                    <button class="enhanced-modal-close" onclick="closeEnhancedModal()">
                        <i class="bx bx-x"></i>
                    </button>
                    <div class="enhanced-modal-header">
                        <h3><i class="bx bx-plus-medical" style="color: #ef4444;"></i> Emergency Booking</h3>
                        <p>Get urgent medical care within 24 hours</p>
                    </div>
                    <div class="enhanced-modal-body">
                        <div class="emergency-options">
                            <div class="emergency-option" onclick="bookEmergencySlot('immediate')">
                                <div class="emergency-icon">
                                    <i class="bx bx-time"></i>
                                </div>
                                <div class="emergency-content">
                                    <h4>Immediate Care</h4>
                                    <p>Available within 2-4 hours</p>
                                    <span class="emergency-price">Rs. 5,000</span>
                                </div>
                            </div>
                            <div class="emergency-option" onclick="bookEmergencySlot('urgent')">
                                <div class="emergency-icon">
                                    <i class="bx bx-calendar-plus"></i>
                                </div>
                                <div class="emergency-content">
                                    <h4>Urgent Appointment</h4>
                                    <p>Available within 24 hours</p>
                                    <span class="emergency-price">Rs. 3,000</span>
                                </div>
                            </div>
                        </div>
                        <div class="emergency-note">
                            <i class="bx bx-info-circle"></i>
                            <p>Emergency bookings are prioritized and may have additional fees. Our medical team will contact you within 30 minutes to confirm availability.</p>
                        </div>
                    </div>
                </div>
            `;
            showEnhancedModal(modalHTML);
        }

        function showVirtualConsultation() {
            const modalHTML = `
                <div class="enhanced-modal-content">
                    <button class="enhanced-modal-close" onclick="closeEnhancedModal()">
                        <i class="bx bx-x"></i>
                    </button>
                    <div class="enhanced-modal-header">
                        <h3><i class="bx bx-video" style="color: #22c55e;"></i> Virtual Consultation</h3>
                        <p>Connect with doctors from the comfort of your home</p>
                    </div>
                    <div class="enhanced-modal-body">
                        <div class="virtual-benefits">
                            <div class="benefit-item">
                                <i class="bx bx-check-circle"></i>
                                <span>No travel required</span>
                            </div>
                            <div class="benefit-item">
                                <i class="bx bx-check-circle"></i>
                                <span>Instant prescription delivery</span>
                            </div>
                            <div class="benefit-item">
                                <i class="bx bx-check-circle"></i>
                                <span>Secure video calls</span>
                            </div>
                            <div class="benefit-item">
                                <i class="bx bx-check-circle"></i>
                                <span>Digital health records</span>
                            </div>
                        </div>
                        <div class="virtual-specialties">
                            <h4>Available Specialties</h4>
                            <div class="specialty-grid">
                                <div class="specialty-card" onclick="bookVirtualConsultation('general')">
                                    <i class="bx bx-user-md"></i>
                                    <span>General Medicine</span>
                                </div>
                                <div class="specialty-card" onclick="bookVirtualConsultation('dermatology')">
                                    <i class="bx bx-face"></i>
                                    <span>Dermatology</span>
                                </div>
                                <div class="specialty-card" onclick="bookVirtualConsultation('psychiatry')">
                                    <i class="bx bx-brain"></i>
                                    <span>Mental Health</span>
                                </div>
                                <div class="specialty-card" onclick="bookVirtualConsultation('pediatrics')">
                                    <i class="bx bx-child"></i>
                                    <span>Pediatrics</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            showEnhancedModal(modalHTML);
        }

        function showAIRecommendations() {
            const modalHTML = `
                <div class="enhanced-modal-content">
                    <button class="enhanced-modal-close" onclick="closeEnhancedModal()">
                        <i class="bx bx-x"></i>
                    </button>
                    <div class="enhanced-modal-header">
                        <h3><i class="bx bx-brain" style="color: #a855f7;"></i> AI Doctor Recommendations</h3>
                        <p>Get personalized doctor suggestions based on your symptoms</p>
                    </div>
                    <div class="enhanced-modal-body">
                        <div class="symptom-checker">
                            <h4>Describe your symptoms</h4>
                            <textarea id="symptomsInput" placeholder="Tell us about your symptoms, pain level, duration, etc..." rows="4"></textarea>
                            <button class="btn btn-primary" onclick="analyzeSymptoms()">
                                <i class="bx bx-search"></i> Analyze Symptoms
                            </button>
                        </div>
                        <div id="aiRecommendations" class="ai-recommendations" style="display: none;">
                            <h4>Recommended Specialists</h4>
                            <div class="recommendation-list">
                                <!-- AI recommendations will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            `;
            showEnhancedModal(modalHTML);
        }

        function showFamilyBooking() {
            const modalHTML = `
                <div class="enhanced-modal-content">
                    <button class="enhanced-modal-close" onclick="closeEnhancedModal()">
                        <i class="bx bx-x"></i>
                    </button>
                    <div class="enhanced-modal-header">
                        <h3><i class="bx bx-group" style="color: #007BFF;"></i> Family Booking</h3>
                        <p>Book appointments for your family members</p>
                    </div>
                    <div class="enhanced-modal-body">
                        <div class="family-members">
                            <h4>Select Family Member</h4>
                            <div class="family-grid">
                                <div class="family-card" onclick="selectFamilyMember('self')">
                                    <div class="family-avatar">
                                        <i class="bx bx-user"></i>
                                    </div>
                                    <span>Myself</span>
                                </div>
                                <div class="family-card" onclick="selectFamilyMember('spouse')">
                                    <div class="family-avatar">
                                        <i class="bx bx-user-circle"></i>
                                    </div>
                                    <span>Spouse</span>
                                </div>
                                <div class="family-card" onclick="selectFamilyMember('child')">
                                    <div class="family-avatar">
                                        <i class="bx bx-child"></i>
                                    </div>
                                    <span>Child</span>
                                </div>
                                <div class="family-card" onclick="selectFamilyMember('parent')">
                                    <div class="family-avatar">
                                        <i class="bx bx-user-plus"></i>
                                    </div>
                                    <span>Parent</span>
                                </div>
                            </div>
                        </div>
                        <div class="add-family-member">
                            <button class="btn btn-outline" onclick="showAddFamilyForm()">
                                <i class="bx bx-plus"></i> Add New Family Member
                            </button>
                        </div>
                    </div>
                </div>
            `;
            showEnhancedModal(modalHTML);
        }

        function showEnhancedModal(content) {
            const modal = document.createElement('div');
            modal.className = 'enhanced-modal';
            modal.innerHTML = content;
            
            modal.addEventListener('click', (e) => {
                if (e.target === modal) closeEnhancedModal();
            });
            
            document.body.appendChild(modal);
            setTimeout(() => modal.classList.add('active'), 10);
        }

        function closeEnhancedModal() {
            const modal = document.querySelector('.enhanced-modal');
            if (modal) {
                modal.classList.remove('active');
                setTimeout(() => modal.remove(), 300);
            }
        }

        function bookEmergencySlot(type) {
            alert(`Emergency ${type} booking initiated. Our team will contact you within 30 minutes.`);
            closeEnhancedModal();
        }

        function bookVirtualConsultation(specialty) {
            alert(`Virtual ${specialty} consultation booking initiated. You will receive a video call link shortly.`);
            closeEnhancedModal();
        }

        function analyzeSymptoms() {
            const symptoms = document.getElementById('symptomsInput').value;
            if (!symptoms.trim()) {
                alert('Please describe your symptoms first.');
                return;
            }
            
            // Simulate AI analysis
            const recommendations = document.getElementById('aiRecommendations');
            recommendations.style.display = 'block';
            recommendations.querySelector('.recommendation-list').innerHTML = `
                <div class="recommendation-card">
                    <div class="doctor-info">
                        <img src="https://source.unsplash.com/100x100/?doctor,man" alt="Dr. Smith">
                        <div>
                            <h5>Dr. John Smith</h5>
                            <p>Internal Medicine</p>
                            <div class="match-score">95% Match</div>
                        </div>
                    </div>
                    <button class="btn btn-primary btn-sm" onclick="bookRecommendedDoctor(1)">Book Now</button>
                </div>
                <div class="recommendation-card">
                    <div class="doctor-info">
                        <img src="https://source.unsplash.com/100x100/?doctor,woman" alt="Dr. Johnson">
                        <div>
                            <h5>Dr. Sarah Johnson</h5>
                            <p>Family Medicine</p>
                            <div class="match-score">88% Match</div>
                        </div>
                    </div>
                    <button class="btn btn-primary btn-sm" onclick="bookRecommendedDoctor(2)">Book Now</button>
                </div>
            `;
        }

        function selectFamilyMember(member) {
            alert(`Selected ${member} for appointment booking. Proceeding to hospital selection.`);
            closeEnhancedModal();
            // Continue with normal booking flow
        }

                 function bookRecommendedDoctor(doctorId) {
             alert(`Booking appointment with recommended doctor. Proceeding to time selection.`);
             closeEnhancedModal();
         }

         function toggleAnalytics() {
             const content = document.getElementById('analyticsContent');
             const toggleText = document.getElementById('analyticsToggleText');
             const isVisible = content.style.display !== 'none';
             
             if (isVisible) {
                 content.style.display = 'none';
                 toggleText.textContent = 'Show Details';
             } else {
                 content.style.display = 'block';
                 toggleText.textContent = 'Hide Details';
             }
         }

    </script>

    <!-- Enhanced Modal Styles -->
    <style>
        .emergency-options {
            display: grid;
            gap: 16px;
            margin-bottom: 24px;
        }

        .emergency-option {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 20px;
            border: 2px solid #f3f4f6;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .emergency-option:hover {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.05);
        }

        .emergency-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
        }

        .emergency-content h4 {
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 4px;
        }

        .emergency-content p {
            color: #6b7280;
            margin-bottom: 8px;
        }

        .emergency-price {
            font-size: 18px;
            font-weight: 700;
            color: #ef4444;
        }

        .emergency-note {
            display: flex;
            gap: 12px;
            padding: 16px;
            background: #fef3c7;
            border-radius: 12px;
            border: 1px solid #fde68a;
        }

        .emergency-note i {
            color: #f59e0b;
            font-size: 20px;
            flex-shrink: 0;
        }

        .emergency-note p {
            color: #92400e;
            margin: 0;
            font-size: 14px;
        }

        .virtual-benefits {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }

        .benefit-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #22c55e;
            font-weight: 500;
        }

        .virtual-specialties h4 {
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 16px;
        }

        .specialty-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }

        .specialty-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 20px;
            border: 2px solid #f3f4f6;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .specialty-card:hover {
            border-color: #22c55e;
            background: rgba(34, 197, 94, 0.05);
        }

        .specialty-card i {
            font-size: 32px;
            color: #22c55e;
        }

        .specialty-card span {
            font-weight: 500;
            color: #1f2937;
        }

        .symptom-checker textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-family: inherit;
            font-size: 14px;
            margin-bottom: 16px;
            resize: vertical;
        }

        .symptom-checker textarea:focus {
            outline: none;
            border-color: #a855f7;
        }

        .ai-recommendations {
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid #f3f4f6;
        }

        .recommendation-card {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px;
            border: 2px solid #f3f4f6;
            border-radius: 12px;
            margin-bottom: 12px;
        }

        .doctor-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .doctor-info img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
        }

        .doctor-info h5 {
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 4px;
        }

        .doctor-info p {
            color: #6b7280;
            margin-bottom: 4px;
        }

        .match-score {
            font-size: 12px;
            font-weight: 600;
            color: #22c55e;
            background: rgba(34, 197, 94, 0.1);
            padding: 2px 8px;
            border-radius: 12px;
            display: inline-block;
        }

        .family-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }

        .family-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            padding: 20px;
            border: 2px solid #f3f4f6;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .family-card:hover {
            border-color: #007BFF;
            background: rgba(0, 123, 255, 0.05);
        }

        .family-avatar {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #007BFF, #0056b3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 28px;
        }

        .family-card span {
            font-weight: 500;
            color: #1f2937;
        }

        .btn-sm {
            padding: 8px 16px;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .virtual-benefits,
            .specialty-grid,
            .family-grid {
                grid-template-columns: 1fr;
            }
            
            .emergency-option {
                flex-direction: column;
                text-align: center;
                gap: 12px;
            }
            
                         .recommendation-card {
                 flex-direction: column;
                 gap: 16px;
                 text-align: center;
             }
         }

         /* Analytics Dashboard Styles */
         .analytics-dashboard {
             background: linear-gradient(135deg, #f8faff 0%, #e8f4fd 100%);
             border-radius: 20px;
             padding: 24px;
             margin-bottom: 40px;
             border: 1px solid rgba(0, 123, 255, 0.1);
         }

         .analytics-header {
             display: flex;
             align-items: center;
             justify-content: space-between;
             margin-bottom: 20px;
         }

         .analytics-header h3 {
             font-size: 20px;
             font-weight: 600;
             color: #1f2937;
             margin: 0;
             display: flex;
             align-items: center;
             gap: 8px;
         }

         .analytics-header h3 i {
             color: #007BFF;
         }

         .analytics-grid {
             display: grid;
             grid-template-columns: repeat(4, 1fr);
             gap: 16px;
             margin-bottom: 24px;
         }

         .analytics-card {
             background: white;
             border-radius: 12px;
             padding: 20px;
             display: flex;
             align-items: center;
             gap: 16px;
             box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
             border: 1px solid rgba(0, 123, 255, 0.1);
             transition: all 0.3s ease;
         }

         .analytics-card:hover {
             transform: translateY(-2px);
             box-shadow: 0 8px 25px rgba(0, 123, 255, 0.15);
         }

         .analytics-icon {
             width: 50px;
             height: 50px;
             background: linear-gradient(135deg, #007BFF, #0056b3);
             border-radius: 12px;
             display: flex;
             align-items: center;
             justify-content: center;
             color: white;
             font-size: 24px;
         }

         .analytics-info h4 {
             font-size: 24px;
             font-weight: 700;
             color: #1f2937;
             margin: 0 0 4px 0;
         }

         .analytics-info p {
             font-size: 14px;
             color: #6b7280;
             margin: 0;
         }

         .recent-appointments {
             background: white;
             border-radius: 12px;
             padding: 20px;
             box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
         }

         .recent-appointments h4 {
             font-size: 16px;
             font-weight: 600;
             color: #1f2937;
             margin-bottom: 16px;
         }

         .appointment-list {
             display: flex;
             flex-direction: column;
             gap: 12px;
         }

         .appointment-item {
             display: flex;
             align-items: center;
             gap: 16px;
             padding: 16px;
             background: #f8faff;
             border-radius: 8px;
             border: 1px solid #e5e7eb;
         }

         .appointment-date {
             display: flex;
             flex-direction: column;
             align-items: center;
             min-width: 60px;
         }

         .appointment-date .date {
             font-size: 14px;
             font-weight: 600;
             color: #1f2937;
         }

         .appointment-date .time {
             font-size: 12px;
             color: #6b7280;
         }

         .appointment-details {
             flex: 1;
         }

         .appointment-details h5 {
             font-size: 14px;
             font-weight: 600;
             color: #1f2937;
             margin: 0 0 4px 0;
         }

         .appointment-details p {
             font-size: 12px;
             color: #6b7280;
             margin: 0;
         }

         .appointment-status {
             display: flex;
             align-items: center;
             gap: 6px;
             padding: 6px 12px;
             border-radius: 20px;
             font-size: 12px;
             font-weight: 500;
         }

         .appointment-status.completed {
             background: rgba(34, 197, 94, 0.1);
             color: #22c55e;
         }

         .appointment-status.upcoming {
             background: rgba(0, 123, 255, 0.1);
             color: #007BFF;
         }

         @media (max-width: 1024px) {
             .analytics-grid {
                 grid-template-columns: repeat(2, 1fr);
             }
         }

         @media (max-width: 768px) {
             .analytics-dashboard {
                 padding: 16px;
                 margin-bottom: 24px;
             }
             
             .analytics-header {
                 flex-direction: column;
                 gap: 12px;
                 align-items: flex-start;
             }
             
             .analytics-grid {
                 grid-template-columns: 1fr;
                 gap: 12px;
             }
             
             .analytics-card {
                 padding: 16px;
             }
             
             .analytics-icon {
                 width: 40px;
                 height: 40px;
                 font-size: 20px;
             }
             
             .analytics-info h4 {
                 font-size: 20px;
             }
             
             .appointment-item {
                 flex-direction: column;
                 text-align: center;
                 gap: 12px;
             }
             
             .appointment-date {
                 flex-direction: row;
                 gap: 8px;
             }
         }
     </style>

    <!-- Modern Footer -->
    <footer class="modern-footer">
        <div class="footer-container">
            <!-- Main Footer Content -->
            <div class="footer-main">
                <!-- Company Section -->
                <div class="footer-section">
                    <h4>Company</h4>
                    <div class="footer-links">
                        <a href="index.html">Home</a>
                        <a href="about.html">About</a>
                        <a href="dashboard.html">Dashboard</a>
                        <a href="blog.html">Blog</a>
                    </div>
                </div>

                <!-- Solutions Section -->
                <div class="footer-section">
                    <h4>Solutions</h4>
                    <div class="footer-links">
                        <a href="reminders.html">Medication Management</a>
                        <a href="appointments.html">Appointment Scheduling</a>
                        <a href="schedule.html">Health Calendar</a>
                        <a href="#family">Family Care</a>
                        <a href="#notifications">Smart Reminders</a>
                        <a href="#analytics">Health Analytics</a>
                    </div>
                </div>

                <!-- Resources Section -->
                <div class="footer-section">
                    <h4>Resources</h4>
                    <div class="footer-links">
                        <a href="blog.html">Blog</a>
                        <a href="#help">Help Center</a>
                        <a href="#contact">Contact Us</a>
                        <a href="#privacy">Privacy Policy</a>
                        <a href="#terms">Terms of Use</a>
                    </div>
                </div>

                <!-- Contact Information -->
                <div class="footer-contact">
                    <div class="social-icons">
                        <a href="#" class="social-link facebook" aria-label="Facebook">
                            <i class="bx bxl-facebook"></i>
                        </a>
                        <a href="#" class="social-link twitter" aria-label="Twitter">
                            <i class="bx bxl-twitter"></i>
                        </a>
                        <a href="#" class="social-link linkedin" aria-label="LinkedIn">
                            <i class="bx bxl-linkedin"></i>
                        </a>
                        <a href="#" class="social-link youtube" aria-label="YouTube">
                            <i class="bx bxl-youtube"></i>
                        </a>
                    </div>
                    
                    <div class="contact-info">
                        <p>123 Health Street</p>
                        <p>Suite 456</p>
                        <p>Medical City, MC 12345</p>
                        <p class="contact-phone">800-MEDICARE</p>
                    </div>
                </div>
            </div>

            <!-- Footer Bottom -->
            <div class="footer-bottom">
                <div class="footer-brand">
                    <i class="bx bx-health"></i>
                    <span>MediCare<span class="brand-accent">+</span></span>
                </div>
                <div class="footer-copyright">
                    <p>Copyright 2024 ©. All rights reserved</p>
                </div>
            </div>
        </div>
    </footer>
</body>
</html> 
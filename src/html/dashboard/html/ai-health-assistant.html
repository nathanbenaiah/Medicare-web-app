<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Health Assistant - MediCare+</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary-blue: #007BFF;
            --secondary-blue: #0056b3;
            --success-green: #28a745;
            --warning-orange: #ffc107;
            --danger-red: #dc3545;
            --info-cyan: #17a2b8;
            --ai-purple: #6F42C1;
            --ai-pink: #E91E63;
            --light-gray: #f8f9fa;
            --dark-gray: #343a40;
            --text-dark: #212529;
            --text-muted: #6c757d;
            --border-radius: 15px;
            --shadow: 0 4px 15px rgba(0, 123, 255, 0.1);
            --shadow-hover: 0 8px 25px rgba(0, 123, 255, 0.2);
            --ai-gradient: linear-gradient(135deg, #6F42C1, #E91E63);
            --bg-gradient: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg-gradient);
            color: var(--text-dark);
            line-height: 1.6;
            min-height: 100vh;
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 50px;
            padding: 12px 24px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .navbar-content {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .navbar-brand {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
            font-size: 1.3rem;
            font-weight: 800;
            color: var(--text-dark);
        }

        .navbar-brand i {
            color: var(--ai-purple);
            font-size: 1.5rem;
        }

        .brand-accent {
            color: var(--ai-purple);
        }

        .nav-links {
            display: flex;
            gap: 1rem;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
            color: var(--text-muted);
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 25px;
            transition: all 0.3s ease;
        }

        .nav-link:hover, .nav-link.active {
            color: var(--ai-purple);
            background: rgba(111, 66, 193, 0.1);
            transform: translateY(-2px);
        }

        /* Main Container */
        .container {
            margin-top: 120px;
            padding: 2rem;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Hero Section */
        .ai-hero {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            padding: 3rem 2rem;
            margin-bottom: 3rem;
            box-shadow: var(--shadow);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .ai-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--ai-gradient);
        }

        .ai-hero h1 {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: var(--ai-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .ai-hero p {
            font-size: 1.3rem;
            color: var(--text-muted);
            max-width: 600px;
            margin: 0 auto;
        }

        .ai-hero .hero-stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-top: 2rem;
        }

        .hero-stat {
            text-align: center;
        }

        .hero-stat-number {
            font-size: 2rem;
            font-weight: 800;
            color: var(--ai-purple);
            display: block;
        }

        .hero-stat-label {
            font-size: 0.9rem;
            color: var(--text-muted);
            font-weight: 500;
        }

        /* Features Grid */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            padding: 2.5rem;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--card-gradient);
            transition: height 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-hover);
        }

        .feature-card:hover::before {
            height: 6px;
        }

        .feature-icon {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: white;
            margin: 0 auto 2rem;
            position: relative;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
        }

        .feature-card.diet {
            --card-gradient: linear-gradient(135deg, #FF6B6B, #FF8E53);
        }

        .feature-card.diet .feature-icon {
            background: linear-gradient(135deg, #FF6B6B, #FF8E53);
        }

        .feature-card.symptom {
            --card-gradient: linear-gradient(135deg, #4ECDC4, #44A08D);
        }

        .feature-card.symptom .feature-icon {
            background: linear-gradient(135deg, #4ECDC4, #44A08D);
        }

        .feature-card.medicine {
            --card-gradient: linear-gradient(135deg, #45B7D1, #96C93D);
        }

        .feature-card.medicine .feature-icon {
            background: linear-gradient(135deg, #45B7D1, #96C93D);
        }

        .feature-card.report {
            --card-gradient: linear-gradient(135deg, #F093FB, #F5576C);
        }

        .feature-card.report .feature-icon {
            background: linear-gradient(135deg, #F093FB, #F5576C);
        }

        .feature-card h3 {
            font-size: 1.6rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 1rem;
        }

        .feature-card p {
            color: var(--text-muted);
            margin-bottom: 2rem;
            line-height: 1.7;
            font-size: 1rem;
        }

        .feature-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: rgba(111, 66, 193, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(111, 66, 193, 0.1);
        }

        .feature-stat {
            text-align: center;
        }

        .feature-stat-number {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--ai-purple);
            display: block;
        }

        .feature-stat-label {
            font-size: 0.8rem;
            color: var(--text-muted);
            font-weight: 500;
        }

        .enter-btn {
            background: var(--card-gradient);
            color: white;
            border: none;
            padding: 1.2rem 2.5rem;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            font-family: 'Poppins', sans-serif;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .enter-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        /* Questionnaire Interface */
        .questionnaire-interface {
            max-width: 900px;
            margin: 0 auto;
            display: none;
        }

        .questionnaire-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            padding: 3rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .questionnaire-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .questionnaire-header h2 {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 1rem;
        }

        .progress-container {
            background: rgba(111, 66, 193, 0.1);
            border-radius: 50px;
            height: 8px;
            margin: 2rem 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: var(--ai-gradient);
            border-radius: 50px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .progress-text {
            text-align: center;
            color: var(--text-muted);
            font-weight: 500;
            margin-top: 0.5rem;
        }

        .question-container {
            margin-bottom: 2.5rem;
        }

        .question-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 1.5rem;
        }

        .question-options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .option-btn {
            background: rgba(255, 255, 255, 0.8);
            border: 2px solid rgba(111, 66, 193, 0.2);
            border-radius: 12px;
            padding: 1rem 1.5rem;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            color: var(--text-dark);
        }

        .option-btn:hover {
            border-color: var(--ai-purple);
            background: rgba(111, 66, 193, 0.05);
            transform: translateX(5px);
        }

        .option-btn.selected {
            background: var(--ai-gradient);
            color: white;
            border-color: transparent;
        }

        .input-field {
            width: 100%;
            padding: 1rem 1.5rem;
            border: 2px solid rgba(111, 66, 193, 0.2);
            border-radius: 12px;
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.8);
        }

        .input-field:focus {
            outline: none;
            border-color: var(--ai-purple);
            background: white;
            box-shadow: 0 0 0 3px rgba(111, 66, 193, 0.1);
        }

        .range-slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: rgba(111, 66, 193, 0.2);
            outline: none;
            -webkit-appearance: none;
        }

        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--ai-gradient);
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        .range-value {
            text-align: center;
            font-weight: 600;
            color: var(--ai-purple);
            margin-top: 1rem;
            font-size: 1.2rem;
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            gap: 1rem;
            margin-top: 3rem;
        }

        .nav-btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            min-width: 120px;
        }

        .nav-btn.prev {
            background: rgba(111, 66, 193, 0.1);
            color: var(--ai-purple);
            border: 2px solid rgba(111, 66, 193, 0.2);
        }

        .nav-btn.prev:hover {
            background: rgba(111, 66, 193, 0.2);
            transform: translateY(-2px);
        }

        .nav-btn.next {
            background: var(--ai-gradient);
            color: white;
        }

        .nav-btn.next:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(111, 66, 193, 0.3);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        /* Results Interface */
        .results-interface {
            max-width: 1000px;
            margin: 0 auto;
            display: none;
        }

        .results-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: var(--border-radius);
            padding: 3rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 2rem;
        }

        .results-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .results-header h2 {
            font-size: 2.5rem;
            font-weight: 800;
            background: var(--ai-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
        }

        .results-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .summary-card {
            background: rgba(111, 66, 193, 0.05);
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            border: 1px solid rgba(111, 66, 193, 0.1);
        }

        .summary-card h4 {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 0.5rem;
        }

        .summary-card .value {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--ai-purple);
        }

        .results-content {
            line-height: 1.8;
            color: var(--text-dark);
        }

        .results-content h3 {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-dark);
            margin: 2rem 0 1rem;
        }

        .results-content ul {
            margin-left: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .results-content li {
            margin-bottom: 0.5rem;
        }

        .results-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 3rem;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .action-btn.primary {
            background: var(--ai-gradient);
            color: white;
        }

        .action-btn.secondary {
            background: rgba(111, 66, 193, 0.1);
            color: var(--ai-purple);
            border: 2px solid rgba(111, 66, 193, 0.2);
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        /* Loading Animation */
        .loading-container {
            text-align: center;
            padding: 3rem;
            display: none;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(111, 66, 193, 0.2);
            border-top: 4px solid var(--ai-purple);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 2rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--ai-purple);
            margin-bottom: 0.5rem;
        }

        .loading-subtext {
            color: var(--text-muted);
        }

        /* Enhanced Alternative Recommendations */
        .alternatives-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .alternative-card {
            background: rgba(111, 66, 193, 0.05);
            border: 2px solid rgba(111, 66, 193, 0.1);
            border-radius: 15px;
            padding: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .alternative-card.enhanced {
            cursor: default;
        }

        .alternative-card:hover {
            border-color: var(--ai-purple);
            background: rgba(111, 66, 193, 0.1);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(111, 66, 193, 0.2);
        }

        .alternative-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--ai-gradient);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .alternative-card:hover::before {
            opacity: 1;
        }

        .alternative-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
            gap: 1rem;
        }

        .alternative-header h4 {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text-dark);
            margin: 0;
            line-height: 1.3;
        }

        .confidence-badge {
            background: var(--ai-gradient);
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            white-space: nowrap;
            box-shadow: 0 2px 8px rgba(111, 66, 193, 0.3);
        }

        .alternative-description {
            color: var(--text-dark);
            margin-bottom: 1.5rem;
            line-height: 1.6;
            font-size: 1rem;
        }

        .alternative-benefits,
        .alternative-actions-list,
        .alternative-considerations {
            margin-bottom: 1.5rem;
        }

        .alternative-benefits strong,
        .alternative-actions-list strong,
        .alternative-considerations strong {
            color: var(--ai-purple);
            font-weight: 600;
            display: block;
            margin-bottom: 0.5rem;
        }

        .alternative-benefits ul,
        .alternative-actions-list ul,
        .alternative-considerations ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .alternative-benefits li,
        .alternative-actions-list li,
        .alternative-considerations li {
            padding: 0.3rem 0;
            color: var(--text-dark);
            position: relative;
            padding-left: 1.5rem;
        }

        .alternative-benefits li::before,
        .alternative-actions-list li::before {
            content: 'âœ“';
            position: absolute;
            left: 0;
            color: var(--success-green);
            font-weight: bold;
        }

        .alternative-considerations li::before {
            content: 'âš ';
            position: absolute;
            left: 0;
            color: var(--warning-orange);
        }

        .alternative-focus {
            margin-bottom: 1.5rem;
        }

        .alternative-focus strong {
            color: var(--ai-purple);
            font-weight: 600;
            display: block;
            margin-bottom: 0.5rem;
        }

        .focus-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .focus-tag {
            background: rgba(111, 66, 193, 0.1);
            color: var(--ai-purple);
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
            border: 1px solid rgba(111, 66, 193, 0.2);
        }

        .alternative-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.8rem;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 10px;
            border: 1px solid rgba(111, 66, 193, 0.1);
        }

        .detail-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: var(--text-dark);
        }

        .detail-item i {
            color: var(--ai-purple);
            width: 16px;
        }

        .detail-item.difficulty-easy,
        .detail-item.risk-low,
        .detail-item.cost-low {
            color: var(--success-green);
        }

        .detail-item.difficulty-moderate,
        .detail-item.risk-medium,
        .detail-item.cost-moderate {
            color: var(--warning-orange);
        }

        .detail-item.difficulty-high,
        .detail-item.difficulty-moderate-to-high,
        .detail-item.risk-high,
        .detail-item.cost-high {
            color: var(--soft-red);
        }

        .alternative-actions {
            display: flex;
            gap: 0.8rem;
            flex-wrap: wrap;
        }

        .select-alternative-btn,
        .compare-alternative-btn,
        .more-info-btn {
            flex: 1;
            min-width: 120px;
            padding: 0.8rem 1rem;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .select-alternative-btn {
            background: var(--ai-gradient);
            color: white;
        }

        .compare-alternative-btn {
            background: rgba(111, 66, 193, 0.1);
            color: var(--ai-purple);
            border: 2px solid rgba(111, 66, 193, 0.2);
        }

        .more-info-btn {
            background: rgba(0, 123, 255, 0.1);
            color: var(--primary-blue);
            border: 2px solid rgba(0, 123, 255, 0.2);
        }

        .select-alternative-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(111, 66, 193, 0.3);
        }

        .compare-alternative-btn:hover {
            background: rgba(111, 66, 193, 0.2);
            transform: translateY(-2px);
        }

        .more-info-btn:hover {
            background: rgba(0, 123, 255, 0.2);
            transform: translateY(-2px);
        }

        /* Comparison Modal */
        .comparison-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .comparison-modal.show {
            opacity: 1;
            visibility: visible;
        }

        .comparison-content {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            max-width: 90vw;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        /* Mobile Responsiveness for Alternatives */
        @media (max-width: 768px) {
            .alternatives-container {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .alternative-card {
                padding: 1.5rem;
            }
            
            .alternative-header {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .alternative-details {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }
            
            .alternative-actions {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .select-alternative-btn,
            .compare-alternative-btn,
            .more-info-btn {
                min-width: auto;
            }
        }

        /* Feedback System */
        .feedback-section {
            background: rgba(0, 123, 255, 0.05);
            border-radius: 15px;
            padding: 2rem;
            margin-top: 3rem;
            border: 1px solid rgba(0, 123, 255, 0.1);
        }

        .feedback-section h3 {
            color: var(--primary-blue);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .feedback-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .rating-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .rating-group label {
            font-weight: 600;
            color: var(--text-dark);
        }

        .star-rating {
            display: flex;
            gap: 0.5rem;
            margin: 0.5rem 0;
        }

        .star {
            font-size: 1.5rem;
            color: #ddd;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .star:hover,
        .star.hover {
            color: #ffc107;
            transform: scale(1.1);
        }

        .star.active {
            color: #ffc107;
        }

        .feedback-text {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .feedback-text textarea {
            padding: 1rem;
            border: 2px solid rgba(0, 123, 255, 0.2);
            border-radius: 10px;
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            resize: vertical;
            min-height: 100px;
            transition: all 0.3s ease;
        }

        .feedback-text textarea:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
        }

        .submit-feedback-btn {
            padding: 1rem 2rem;
            background: var(--primary-blue);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            align-self: center;
        }

        .submit-feedback-btn:hover {
            background: var(--secondary-blue);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 123, 255, 0.3);
        }

        /* Toast Notifications */
        .toast {
            position: fixed;
            top: 100px;
            right: 20px;
            background: var(--ai-gradient);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            z-index: 1001;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .toast.show {
            transform: translateX(0);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .ai-hero h1 {
                font-size: 2.5rem;
            }

            .ai-hero p {
                font-size: 1.1rem;
            }

            .hero-stats {
                flex-direction: column;
                gap: 1.5rem !important;
            }

            .features-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .feature-card {
                padding: 2rem;
            }

            .feature-stats {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }

            .questionnaire-card,
            .results-card {
                padding: 2rem;
            }

            .navigation-buttons {
                flex-direction: column;
            }

            .results-actions {
                flex-direction: column;
                align-items: center;
            }

            .navbar {
                left: 10px;
                right: 10px;
                transform: none;
                border-radius: 15px;
            }

            .navbar-content {
                gap: 1rem;
            }

            .nav-links {
                display: none;
            }
        }

        @media (max-width: 480px) {
            .ai-hero {
                padding: 2rem 1rem;
            }

            .feature-card {
                padding: 1.5rem;
            }

            .questionnaire-card,
            .results-card {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="navbar-content">
            <a href="../html/user-dashboard.html" class="medicare-logo">
                <span class="medicare-logo-icon">âœ±</span>
                <span class="medicare-brand-text">MediCare<span class="medicare-accent">+</span></span>
            </a>
            <div class="nav-links">
                <a href="../html/user-dashboard.html" class="nav-link">
                    <i class="fas fa-home"></i>
                    Dashboard
                </a>
                <a href="#" class="nav-link active">
                    <i class="fas fa-brain"></i>
                    AI Assistant
                </a>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Hero Section -->
        <div class="ai-hero">
            <h1><i class="fas fa-robot"></i> AI Health Assistant</h1>
            <p>Get personalized health insights powered by advanced AI technology. Choose from our comprehensive assessment tools to receive tailored recommendations for your health journey.</p>
            <div class="hero-stats">
                <div class="hero-stat">
                    <span class="hero-stat-number">10K+</span>
                    <span class="hero-stat-label">Assessments Completed</span>
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-number">95%</span>
                    <span class="hero-stat-label">Accuracy Rate</span>
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-number">24/7</span>
                    <span class="hero-stat-label">Available</span>
                </div>
            </div>
        </div>

        <!-- Features Selection -->
        <div id="featuresSection" class="features-grid">
            <div class="feature-card diet" onclick="startAssessment('diet')">
                <div class="feature-icon">
                    <i class="fas fa-utensils"></i>
                </div>
                <h3>AI Diet Planner</h3>
                <p>Get a personalized nutrition plan based on your health goals, dietary preferences, and lifestyle. Our AI analyzes your needs to create the perfect meal strategy.</p>
                <div class="feature-stats">
                    <div class="feature-stat">
                        <span class="feature-stat-number">20</span>
                        <span class="feature-stat-label">Questions</span>
                    </div>
                    <div class="feature-stat">
                        <span class="feature-stat-number">5 min</span>
                        <span class="feature-stat-label">Duration</span>
                    </div>
                    <div class="feature-stat">
                        <span class="feature-stat-number">92%</span>
                        <span class="feature-stat-label">Accuracy</span>
                    </div>
                </div>
                <button class="enter-btn">
                    <i class="fas fa-play"></i>
                    Start Assessment
                </button>
            </div>

            <div class="feature-card symptom" onclick="startAssessment('symptom')">
                <div class="feature-icon">
                    <i class="fas fa-stethoscope"></i>
                </div>
                <h3>AI Symptom Checker</h3>
                <p>Describe your symptoms and get instant AI-powered analysis with potential causes and recommended actions. Quick, reliable, and comprehensive health screening.</p>
                <div class="feature-stats">
                    <div class="feature-stat">
                        <span class="feature-stat-number">15</span>
                        <span class="feature-stat-label">Questions</span>
                    </div>
                    <div class="feature-stat">
                        <span class="feature-stat-number">7 min</span>
                        <span class="feature-stat-label">Duration</span>
                    </div>
                    <div class="feature-stat">
                        <span class="feature-stat-number">96%</span>
                        <span class="feature-stat-label">Accuracy</span>
                    </div>
                </div>
                <button class="enter-btn">
                    <i class="fas fa-play"></i>
                    Start Assessment
                </button>
            </div>

            <div class="feature-card medicine" onclick="startAssessment('medicine')">
                <div class="feature-icon">
                    <i class="fas fa-pills"></i>
                </div>
                <h3>AI Medicine Advisor</h3>
                <p>Get intelligent medication recommendations and drug interaction checks. Our AI helps you understand your prescriptions and suggests optimal treatment options.</p>
                <div class="feature-stats">
                    <div class="feature-stat">
                        <span class="feature-stat-number">18</span>
                        <span class="feature-stat-label">Questions</span>
                    </div>
                    <div class="feature-stat">
                        <span class="feature-stat-number">6 min</span>
                        <span class="feature-stat-label">Duration</span>
                    </div>
                    <div class="feature-stat">
                        <span class="feature-stat-number">94%</span>
                        <span class="feature-stat-label">Accuracy</span>
                    </div>
                </div>
                <button class="enter-btn">
                    <i class="fas fa-play"></i>
                    Start Assessment
                </button>
            </div>

            <div class="feature-card report" onclick="startAssessment('report')">
                <div class="feature-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <h3>AI Health Report</h3>
                <p>Comprehensive health analysis with personalized insights, risk assessments, and actionable recommendations for improving your overall wellness.</p>
                <div class="feature-stats">
                    <div class="feature-stat">
                        <span class="feature-stat-number">25</span>
                        <span class="feature-stat-label">Questions</span>
                    </div>
                    <div class="feature-stat">
                        <span class="feature-stat-number">10 min</span>
                        <span class="feature-stat-label">Duration</span>
                    </div>
                    <div class="feature-stat">
                        <span class="feature-stat-number">98%</span>
                        <span class="feature-stat-label">Accuracy</span>
                    </div>
                </div>
                <button class="enter-btn">
                    <i class="fas fa-play"></i>
                    Start Assessment
                </button>
            </div>
        </div>

        <!-- Questionnaire Interface -->
        <div class="questionnaire-interface" id="questionnaire-interface">
            <div class="questionnaire-card">
                <div class="questionnaire-header">
                    <h2 id="questionnaire-title">AI Health Assessment</h2>
                    <button class="nav-btn prev" onclick="backToFeatures()" style="position: absolute; top: 2rem; left: 2rem;">
                        <i class="fas fa-arrow-left"></i> Back
                    </button>
                </div>
                <div class="progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                <div class="progress-text" id="progress-text">Question 1 of 20</div>
                <div class="question-container">
                    <div class="question-title" id="question-title">Loading question...</div>
                    <div class="question-options" id="question-options">
                        <!-- Question options will be dynamically populated here -->
                    </div>
                    <input type="text" class="input-field" id="text-input" style="display: none;" placeholder="Enter your answer...">
                    <input type="number" class="input-field" id="number-input" style="display: none;" placeholder="Enter a number...">
                    <div id="range-container" style="display: none;">
                        <input type="range" class="range-slider" id="range-input" min="1" max="10" value="5">
                        <div class="range-value" id="range-value">5</div>
                    </div>
                    <div class="navigation-buttons">
                        <button class="nav-btn prev" id="prev-btn" onclick="previousQuestion()" disabled>
                            <i class="fas fa-chevron-left"></i> Previous
                        </button>
                        <button class="nav-btn next" id="next-btn" onclick="nextQuestion()" disabled>
                            Next <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Loading Interface -->
        <div class="loading-container" id="loading-container">
            <div class="loading-spinner"></div>
            <div class="loading-text">Analyzing Your Responses...</div>
            <div class="loading-subtext">Our AI is processing your information to generate personalized recommendations</div>
        </div>

        <!-- Results Interface -->
        <div class="results-interface" id="results-interface">
            <div class="results-card">
                <div class="results-header">
                    <h2 id="results-title">AI Health Analysis</h2>
                    <button class="nav-btn prev" onclick="backToFeatures()" style="position: absolute; top: 2rem; left: 2rem;">
                        <i class="fas fa-arrow-left"></i> New Assessment
                    </button>
                </div>
                <div class="results-summary" id="results-summary">
                    <div class="summary-card">
                        <h4>Assessment Score</h4>
                        <span class="value" id="assessment-score">85%</span>
                    </div>
                    <div class="summary-card">
                        <h4>Primary Focus</h4>
                        <span class="value" id="primary-focus">Nutrition & Wellness</span>
                    </div>
                    <div class="summary-card">
                        <h4>Risk Level</h4>
                        <span class="value" id="risk-level">Low</span>
                    </div>
                </div>
                <div class="results-content" id="results-content">
                    <h3>Analysis Complete!</h3>
                    <p>Based on your responses, we've generated personalized recommendations for your health journey.</p>
                    <ul>
                        <li>ðŸ”¹ Review your personalized recommendations</li>
                        <li>ðŸ”¹ Download your detailed report</li>
                        <li>ðŸ”¹ Schedule follow-up consultation</li>
                        <li>ðŸ”¹ Share results with your healthcare provider</li>
                    </ul>
                </div>
                <div class="results-actions">
                    <button class="action-btn primary" onclick="downloadReport()">
                        <i class="fas fa-download"></i>
                        Download Report
                    </button>
                    <button class="action-btn secondary" onclick="shareResults()">
                        <i class="fas fa-share"></i>
                        Share Results
                    </button>
                    <button class="action-btn secondary" onclick="scheduleFollowup()">
                        <i class="fas fa-calendar"></i>
                        Schedule Follow-up
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <script>
        // Global variables
        let currentFeature = '';
        let currentQuestionIndex = 0;
        let userAnswers = {};
        let questions = [];

        // Question sets for each feature
        const questionSets = {
            diet: [
                {
                    question: "What is your primary health goal?",
                    type: "multiple",
                    options: ["Weight loss", "Weight gain", "Muscle building", "General health", "Disease management", "Athletic performance"]
                },
                {
                    question: "What is your age?",
                    type: "number",
                    min: 1,
                    max: 120
                },
                {
                    question: "What is your biological sex?",
                    type: "multiple",
                    options: ["Male", "Female", "Other", "Prefer not to say"]
                },
                {
                    question: "What is your current weight (in kg)?",
                    type: "number",
                    min: 20,
                    max: 300
                },
                {
                    question: "What is your height (in cm)?",
                    type: "number",
                    min: 100,
                    max: 250
                },
                {
                    question: "How would you describe your activity level?",
                    type: "multiple",
                    options: ["Sedentary (little to no exercise)", "Lightly active (light exercise 1-3 days/week)", "Moderately active (moderate exercise 3-5 days/week)", "Very active (hard exercise 6-7 days/week)", "Extremely active (very hard exercise, physical job)"]
                },
                {
                    question: "Do you have any dietary restrictions or allergies?",
                    type: "multiple",
                    options: ["None", "Vegetarian", "Vegan", "Gluten-free", "Dairy-free", "Nut allergies", "Shellfish allergies", "Other food allergies"]
                },
                {
                    question: "What foods do you strongly dislike or avoid?",
                    type: "text",
                    placeholder: "List foods you don't like or can't eat"
                },
                {
                    question: "How many meals do you prefer to eat per day?",
                    type: "multiple",
                    options: ["2 meals", "3 meals", "4-5 small meals", "6+ small meals", "Intermittent fasting"]
                },
                {
                    question: "How much time can you dedicate to meal preparation daily?",
                    type: "multiple",
                    options: ["Less than 15 minutes", "15-30 minutes", "30-60 minutes", "1-2 hours", "More than 2 hours"]
                },
                {
                    question: "What is your cooking skill level?",
                    type: "range",
                    min: 1,
                    max: 10,
                    label: "1 = Beginner, 10 = Expert Chef"
                },
                {
                    question: "What is your weekly food budget (in your local currency)?",
                    type: "multiple",
                    options: ["Very low budget", "Low budget", "Moderate budget", "High budget", "No budget constraints"]
                },
                {
                    question: "Do you have any medical conditions that affect your diet?",
                    type: "multiple",
                    options: ["None", "Diabetes", "High blood pressure", "Heart disease", "Kidney disease", "Liver disease", "Digestive issues", "Other"]
                },
                {
                    question: "How many glasses of water do you drink daily?",
                    type: "number",
                    min: 0,
                    max: 20
                },
                {
                    question: "Do you take any supplements currently?",
                    type: "text",
                    placeholder: "List any vitamins, minerals, or supplements you take"
                },
                {
                    question: "What time do you usually eat your first meal?",
                    type: "multiple",
                    options: ["Before 7 AM", "7-9 AM", "9-11 AM", "11 AM-1 PM", "After 1 PM"]
                },
                {
                    question: "How often do you eat out or order takeaway?",
                    type: "multiple",
                    options: ["Never", "1-2 times per week", "3-4 times per week", "5-6 times per week", "Daily"]
                },
                {
                    question: "How would you rate your current stress level?",
                    type: "range",
                    min: 1,
                    max: 10,
                    label: "1 = Very low stress, 10 = Very high stress"
                },
                {
                    question: "How many hours of sleep do you get per night on average?",
                    type: "number",
                    min: 3,
                    max: 12
                },
                {
                    question: "What types of cuisine do you enjoy most?",
                    type: "multiple",
                    options: ["Mediterranean", "Asian", "Mexican", "Italian", "American", "Indian", "Middle Eastern", "African", "No preference"]
                }
            ],
            symptom: [
                {
                    question: "What is your primary symptom or concern?",
                    type: "text",
                    placeholder: "Describe your main symptom in detail"
                },
                {
                    question: "When did this symptom first appear?",
                    type: "multiple",
                    options: ["Today", "Yesterday", "2-3 days ago", "1 week ago", "2-4 weeks ago", "1-3 months ago", "More than 3 months ago"]
                },
                {
                    question: "How would you rate the severity of your symptom?",
                    type: "range",
                    min: 1,
                    max: 10,
                    label: "1 = Very mild, 10 = Severe"
                },
                {
                    question: "How has the symptom changed over time?",
                    type: "multiple",
                    options: ["Getting worse", "Getting better", "Staying the same", "Comes and goes", "Varies throughout the day"]
                },
                {
                    question: "Do you have any additional symptoms?",
                    type: "text",
                    placeholder: "List any other symptoms you're experiencing"
                },
                {
                    question: "What is your age?",
                    type: "number",
                    min: 1,
                    max: 120
                },
                {
                    question: "What is your biological sex?",
                    type: "multiple",
                    options: ["Male", "Female", "Other", "Prefer not to say"]
                },
                {
                    question: "Do you have any chronic medical conditions?",
                    type: "text",
                    placeholder: "List any ongoing health conditions"
                },
                {
                    question: "Are you currently taking any medications?",
                    type: "text",
                    placeholder: "List all medications, including over-the-counter drugs"
                },
                {
                    question: "Have you traveled recently or been exposed to anyone who was sick?",
                    type: "multiple",
                    options: ["No recent travel or exposure", "Recent domestic travel", "Recent international travel", "Exposed to sick family member", "Exposed to sick colleague", "Other exposure"]
                },
                {
                    question: "What makes your symptom better?",
                    type: "text",
                    placeholder: "Describe what helps relieve your symptom"
                },
                {
                    question: "What makes your symptom worse?",
                    type: "text",
                    placeholder: "Describe what aggravates your symptom"
                },
                {
                    question: "Have you tried any treatments for this symptom?",
                    type: "text",
                    placeholder: "List any treatments, medications, or remedies you've tried"
                },
                {
                    question: "How is this symptom affecting your daily activities?",
                    type: "range",
                    min: 1,
                    max: 10,
                    label: "1 = No impact, 10 = Cannot perform daily activities"
                },
                {
                    question: "Are you experiencing any mental health symptoms (anxiety, depression, mood changes)?",
                    type: "multiple",
                    options: ["No mental health symptoms", "Mild anxiety", "Moderate anxiety", "Severe anxiety", "Mild depression", "Moderate depression", "Severe depression", "Mood swings", "Other"]
                }
            ],
            medicine: [
                {
                    question: "What condition do you need treatment for?",
                    type: "text",
                    placeholder: "Describe the condition or symptoms you want to treat"
                },
                {
                    question: "What is your age?",
                    type: "number",
                    min: 1,
                    max: 120
                },
                {
                    question: "What is your approximate weight (in kg)?",
                    type: "number",
                    min: 20,
                    max: 300
                },
                {
                    question: "Are you currently taking any medications?",
                    type: "text",
                    placeholder: "List all current medications including dosages"
                },
                {
                    question: "Do you have any known drug allergies?",
                    type: "text",
                    placeholder: "List any medications you're allergic to and the reaction"
                },
                {
                    question: "Do you have any chronic medical conditions?",
                    type: "text",
                    placeholder: "List any ongoing health conditions"
                },
                {
                    question: "Are you pregnant or breastfeeding?",
                    type: "multiple",
                    options: ["No", "Pregnant", "Breastfeeding", "Trying to conceive", "Not applicable"]
                },
                {
                    question: "How severe is the condition you want to treat?",
                    type: "range",
                    min: 1,
                    max: 10,
                    label: "1 = Very mild, 10 = Severe"
                },
                {
                    question: "How long have you had this condition?",
                    type: "multiple",
                    options: ["Less than 1 week", "1-4 weeks", "1-3 months", "3-6 months", "6-12 months", "More than 1 year"]
                },
                {
                    question: "Have you tried any treatments for this condition before?",
                    type: "text",
                    placeholder: "List previous treatments and their effectiveness"
                },
                {
                    question: "Do you prefer brand name or generic medications?",
                    type: "multiple",
                    options: ["No preference", "Prefer generic (lower cost)", "Prefer brand name", "Doctor's recommendation"]
                },
                {
                    question: "Do you have health insurance that covers medications?",
                    type: "multiple",
                    options: ["Yes, full coverage", "Yes, partial coverage", "No insurance", "Not sure", "Prefer not to say"]
                },
                {
                    question: "Do you have difficulty swallowing pills?",
                    type: "multiple",
                    options: ["No difficulty", "Some difficulty", "Significant difficulty", "Cannot swallow pills", "Prefer liquid/chewable forms"]
                },
                {
                    question: "What time of day would you prefer to take medication?",
                    type: "multiple",
                    options: ["Morning", "Afternoon", "Evening", "Bedtime", "Multiple times daily", "No preference"]
                },
                {
                    question: "How good are you at remembering to take medications?",
                    type: "range",
                    min: 1,
                    max: 10,
                    label: "1 = Often forget, 10 = Never forget"
                },
                {
                    question: "Are you concerned about potential side effects?",
                    type: "range",
                    min: 1,
                    max: 10,
                    label: "1 = Not concerned, 10 = Very concerned"
                },
                {
                    question: "Do you drink alcohol regularly?",
                    type: "multiple",
                    options: ["Never", "Rarely (special occasions)", "1-2 drinks per week", "3-7 drinks per week", "More than 7 drinks per week"]
                },
                {
                    question: "Do you smoke or use tobacco products?",
                    type: "multiple",
                    options: ["Never smoked", "Former smoker", "Current smoker (less than 1 pack/day)", "Current smoker (1+ packs/day)", "Use other tobacco products"]
                }
            ],
            report: [
                {
                    question: "What is your age?",
                    type: "number",
                    min: 1,
                    max: 120
                },
                {
                    question: "What is your biological sex?",
                    type: "multiple",
                    options: ["Male", "Female", "Other", "Prefer not to say"]
                },
                {
                    question: "What is your current weight (in kg)?",
                    type: "number",
                    min: 20,
                    max: 300
                },
                {
                    question: "What is your height (in cm)?",
                    type: "number",
                    min: 100,
                    max: 250
                },
                {
                    question: "What is your blood pressure (if known)?",
                    type: "text",
                    placeholder: "e.g., 120/80 or 'Don't know'"
                },
                {
                    question: "What is your resting heart rate (if known)?",
                    type: "number",
                    min: 40,
                    max: 150,
                    placeholder: "beats per minute"
                },
                {
                    question: "How many hours of sleep do you get per night on average?",
                    type: "number",
                    min: 3,
                    max: 12
                },
                {
                    question: "How would you rate your sleep quality?",
                    type: "range",
                    min: 1,
                    max: 10,
                    label: "1 = Very poor, 10 = Excellent"
                },
                {
                    question: "How many days per week do you exercise?",
                    type: "number",
                    min: 0,
                    max: 7
                },
                {
                    question: "What type of exercise do you do most often?",
                    type: "multiple",
                    options: ["None", "Walking", "Running", "Cycling", "Swimming", "Weight training", "Yoga/Pilates", "Sports", "Mixed activities"]
                },
                {
                    question: "How would you rate your current stress level?",
                    type: "range",
                    min: 1,
                    max: 10,
                    label: "1 = Very low stress, 10 = Very high stress"
                },
                {
                    question: "How many servings of fruits and vegetables do you eat daily?",
                    type: "number",
                    min: 0,
                    max: 15
                },
                {
                    question: "How many glasses of water do you drink daily?",
                    type: "number",
                    min: 0,
                    max: 20
                },
                {
                    question: "Do you smoke or use tobacco products?",
                    type: "multiple",
                    options: ["Never smoked", "Former smoker", "Current smoker (less than 1 pack/day)", "Current smoker (1+ packs/day)", "Use other tobacco products"]
                },
                {
                    question: "How often do you drink alcohol?",
                    type: "multiple",
                    options: ["Never", "Rarely (special occasions)", "1-2 drinks per week", "3-7 drinks per week", "More than 7 drinks per week", "Daily"]
                },
                {
                    question: "Do you have any chronic medical conditions?",
                    type: "text",
                    placeholder: "List any ongoing health conditions"
                },
                {
                    question: "Are you currently taking any medications?",
                    type: "text",
                    placeholder: "List all current medications"
                },
                {
                    question: "When was your last comprehensive health checkup?",
                    type: "multiple",
                    options: ["Within the last 6 months", "6-12 months ago", "1-2 years ago", "2-5 years ago", "More than 5 years ago", "Never had one"]
                },
                {
                    question: "Do you have a family history of any major health conditions?",
                    type: "text",
                    placeholder: "List any significant health conditions in your family"
                },
                {
                    question: "How would you rate your energy levels throughout the day?",
                    type: "range",
                    min: 1,
                    max: 10,
                    label: "1 = Very low energy, 10 = High energy all day"
                },
                {
                    question: "How often do you experience mental health challenges (anxiety, depression, mood swings)?",
                    type: "multiple",
                    options: ["Never", "Rarely", "Sometimes", "Often", "Daily", "Prefer not to say"]
                },
                {
                    question: "How satisfied are you with your current health?",
                    type: "range",
                    min: 1,
                    max: 10,
                    label: "1 = Very unsatisfied, 10 = Very satisfied"
                },
                {
                    question: "What are your top 3 health goals?",
                    type: "text",
                    placeholder: "e.g., lose weight, improve fitness, manage stress"
                },
                {
                    question: "How motivated are you to make health changes?",
                    type: "range",
                    min: 1,
                    max: 10,
                    label: "1 = Not motivated, 10 = Very motivated"
                },
                {
                    question: "What is your biggest health challenge right now?",
                    type: "text",
                    placeholder: "Describe your main health concern or obstacle"
                }
            ]
        };

        // Feature functions
        function startAssessment(feature) {
            window.currentFeature = feature;
            currentQuestionIndex = 0;
            userAnswers = {};
            questions = questionSets[feature];
            
            document.getElementById('featuresSection').style.display = 'none';
            document.getElementById('questionnaire-interface').style.display = 'block';
            
            // Update questionnaire title
            const titles = {
                diet: 'AI Diet Planner Assessment',
                symptom: 'AI Symptom Checker Assessment',
                medicine: 'AI Medicine Advisor Assessment',
                report: 'AI Health Report Assessment'
            };
            document.getElementById('questionnaire-title').textContent = titles[feature];
            
            loadQuestion();
        }

        function backToFeatures() {
            document.getElementById('featuresSection').style.display = 'grid';
            document.getElementById('questionnaire-interface').style.display = 'none';
            document.getElementById('results-interface').style.display = 'none';
            document.getElementById('loading-container').style.display = 'none';
        }

        function loadQuestion() {
            if (currentQuestionIndex >= questions.length) {
                showResults();
                return;
            }

            const question = questions[currentQuestionIndex];
            document.getElementById('question-title').textContent = question.question;
            
            // Hide all input types
            document.getElementById('question-options').style.display = 'none';
            document.getElementById('text-input').style.display = 'none';
            document.getElementById('number-input').style.display = 'none';
            document.getElementById('range-container').style.display = 'none';
            
            // Clear previous content
            document.getElementById('question-options').innerHTML = '';
            document.getElementById('text-input').value = '';
            document.getElementById('number-input').value = '';
            
            // Show appropriate input type
            if (question.type === 'multiple') {
                document.getElementById('question-options').style.display = 'flex';
                question.options.forEach((option, index) => {
                    const button = document.createElement('button');
                    button.className = 'option-btn';
                    button.textContent = option;
                    button.onclick = () => selectOption(index, option);
                    document.getElementById('question-options').appendChild(button);
                });
            } else if (question.type === 'text') {
                document.getElementById('text-input').style.display = 'block';
                document.getElementById('text-input').placeholder = question.placeholder || 'Enter your answer...';
                document.getElementById('text-input').oninput = () => checkAnswer();
            } else if (question.type === 'number') {
                document.getElementById('number-input').style.display = 'block';
                document.getElementById('number-input').placeholder = question.placeholder || 'Enter a number...';
                if (question.min) document.getElementById('number-input').min = question.min;
                if (question.max) document.getElementById('number-input').max = question.max;
                document.getElementById('number-input').oninput = () => checkAnswer();
            } else if (question.type === 'range') {
                document.getElementById('range-container').style.display = 'block';
                const rangeInput = document.getElementById('range-input');
                rangeInput.min = question.min || 1;
                rangeInput.max = question.max || 10;
                rangeInput.value = Math.floor((question.min + question.max) / 2);
                document.getElementById('range-value').textContent = rangeInput.value;
                if (question.label) {
                    document.getElementById('range-value').textContent = `${rangeInput.value} (${question.label})`;
                }
                rangeInput.oninput = () => {
                    const value = rangeInput.value;
                    document.getElementById('range-value').textContent = question.label ? 
                        `${value} (${question.label})` : value;
                    checkAnswer();
                };
                checkAnswer(); // Range always has a value
            }
            
            updateProgress();
            updateNavigationButtons();
        }

        function selectOption(index, option) {
            // Remove selection from all options
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Add selection to clicked option
            document.querySelectorAll('.option-btn')[index].classList.add('selected');
            
            // Store answer
            userAnswers[currentQuestionIndex] = option;
            
            updateNavigationButtons();
        }

        function checkAnswer() {
            const question = questions[currentQuestionIndex];
            let hasAnswer = false;
            
            if (question.type === 'text') {
                hasAnswer = document.getElementById('text-input').value.trim() !== '';
                if (hasAnswer) {
                    userAnswers[currentQuestionIndex] = document.getElementById('text-input').value.trim();
                }
            } else if (question.type === 'number') {
                hasAnswer = document.getElementById('number-input').value !== '';
                if (hasAnswer) {
                    userAnswers[currentQuestionIndex] = parseFloat(document.getElementById('number-input').value);
                }
            } else if (question.type === 'range') {
                hasAnswer = true;
                userAnswers[currentQuestionIndex] = parseInt(document.getElementById('range-input').value);
            }
            
            updateNavigationButtons();
        }

        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('progress-text').textContent = `Question ${currentQuestionIndex + 1} of ${questions.length}`;
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.disabled = !userAnswers.hasOwnProperty(currentQuestionIndex);
            
            if (currentQuestionIndex === questions.length - 1) {
                nextBtn.innerHTML = 'Complete Assessment <i class="fas fa-check"></i>';
            } else {
                nextBtn.innerHTML = 'Next <i class="fas fa-chevron-right"></i>';
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        function nextQuestion() {
            if (userAnswers.hasOwnProperty(currentQuestionIndex)) {
                currentQuestionIndex++;
                loadQuestion();
            }
        }

        function showResults() {
            document.getElementById('questionnaire-interface').style.display = 'none';
            document.getElementById('loading-container').style.display = 'block';
            
            // Simulate AI processing
            setTimeout(() => {
                document.getElementById('loading-container').style.display = 'none';
                document.getElementById('results-interface').style.display = 'block';
                generateResults();
            }, 3000);
        }

        function generateResults() {
            const results = analyzeAnswers();
            window.currentResults = results; // Store results globally for alternatives
            
            // Update results title
            const titles = {
                diet: 'Your Personalized Diet Plan',
                symptom: 'Your Symptom Analysis',
                medicine: 'Your Medication Recommendations',
                report: 'Your Comprehensive Health Report'
            };
            document.getElementById('results-title').textContent = titles[window.currentFeature];
            
            // Update summary cards
            document.getElementById('assessment-score').textContent = results.score;
            document.getElementById('primary-focus').textContent = results.focus;
            document.getElementById('risk-level').textContent = results.risk;
            
            // Update results content with alternatives
            let contentHtml = results.content;
            
            // Add alternative recommendations
            if (results.alternatives && results.alternatives.length > 0) {
                contentHtml += `
                    <h3>Alternative Recommendations</h3>
                    <div class="alternatives-container">
                        ${results.alternatives.map((alt, index) => `
                            <div class="alternative-card enhanced" onclick="selectAlternative(${index})">
                                <div class="alternative-header">
                                    <h4>${alt.title}</h4>
                                    <span class="confidence-badge">${alt.confidence}% confidence</span>
                                </div>
                                <p class="alternative-description">${alt.description}</p>
                                
                                ${alt.benefits ? `
                                    <div class="alternative-benefits">
                                        <strong>Key Benefits:</strong>
                                        <ul>
                                            ${alt.benefits.map(benefit => `<li>${benefit}</li>`).join('')}
                                        </ul>
                                    </div>
                                ` : ''}
                                
                                ${alt.actions ? `
                                    <div class="alternative-actions-list">
                                        <strong>Recommended Actions:</strong>
                                        <ul>
                                            ${alt.actions.map(action => `<li>${action}</li>`).join('')}
                                        </ul>
                                    </div>
                                ` : ''}
                                
                                ${alt.focus_areas ? `
                                    <div class="alternative-focus">
                                        <strong>Focus Areas:</strong>
                                        <div class="focus-tags">
                                            ${alt.focus_areas.map(area => `<span class="focus-tag">${area}</span>`).join('')}
                                        </div>
                                    </div>
                                ` : ''}
                                
                                <div class="alternative-details">
                                    ${alt.duration ? `<div class="detail-item"><i class="fas fa-clock"></i> <span>${alt.duration}</span></div>` : ''}
                                    ${alt.timeframe ? `<div class="detail-item"><i class="fas fa-clock"></i> <span>${alt.timeframe}</span></div>` : ''}
                                    ${alt.timeline ? `<div class="detail-item"><i class="fas fa-calendar"></i> <span>${alt.timeline}</span></div>` : ''}
                                    ${alt.difficulty ? `<div class="detail-item difficulty-${alt.difficulty.toLowerCase().replace(/\s+/g, '-')}"><i class="fas fa-signal"></i> <span>${alt.difficulty}</span></div>` : ''}
                                    ${alt.risk_level ? `<div class="detail-item risk-${alt.risk_level.toLowerCase()}"><i class="fas fa-exclamation-triangle"></i> <span>${alt.risk_level} Risk</span></div>` : ''}
                                    ${alt.safety ? `<div class="detail-item"><i class="fas fa-shield-alt"></i> <span>${alt.safety}</span></div>` : ''}
                                    ${alt.cost ? `<div class="detail-item cost-${alt.cost.toLowerCase()}"><i class="fas fa-dollar-sign"></i> <span>${alt.cost} Cost</span></div>` : ''}
                                </div>
                                
                                ${alt.considerations ? `
                                    <div class="alternative-considerations">
                                        <strong>Important Considerations:</strong>
                                        <ul>
                                            ${alt.considerations.map(consideration => `<li>${consideration}</li>`).join('')}
                                        </ul>
                                    </div>
                                ` : ''}
                                
                                <div class="alternative-actions">
                                    <button class="select-alternative-btn" onclick="selectAlternative(${index}, event)">
                                        <i class="fas fa-check"></i> Select This Option
                                    </button>
                                    <button class="compare-alternative-btn" onclick="compareAlternative(${index}, event)">
                                        <i class="fas fa-balance-scale"></i> Compare
                                    </button>
                                    <button class="more-info-btn" onclick="showMoreInfo(${index}, event)">
                                        <i class="fas fa-info-circle"></i> More Info
                                    </button>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }
            
            // Add feedback system
            contentHtml += `
                <div class="feedback-section">
                    <h3>Rate This Analysis</h3>
                    <div class="feedback-container">
                        <div class="rating-group">
                            <label>How accurate was this analysis?</label>
                            <div class="star-rating" data-rating="accuracy">
                                ${generateStarRating(5)}
                            </div>
                        </div>
                        <div class="rating-group">
                            <label>How helpful were the recommendations?</label>
                            <div class="star-rating" data-rating="helpfulness">
                                ${generateStarRating(5)}
                            </div>
                        </div>
                        <div class="feedback-text">
                            <label>Additional feedback or suggestions:</label>
                            <textarea id="feedback-text" placeholder="Share your thoughts to help us improve..."></textarea>
                        </div>
                        <button class="submit-feedback-btn" onclick="submitFeedback()">Submit Feedback</button>
                    </div>
                </div>
            `;
            
            document.getElementById('results-content').innerHTML = contentHtml;
            
            // Initialize star ratings
            initializeStarRatings();
        }

        function generateStarRating(maxStars) {
            let starsHtml = '';
            for (let i = 1; i <= maxStars; i++) {
                starsHtml += `<i class="fas fa-star star" data-rating="${i}"></i>`;
            }
            return starsHtml;
        }

        function initializeStarRatings() {
            document.querySelectorAll('.star-rating').forEach(rating => {
                const stars = rating.querySelectorAll('.star');
                stars.forEach((star, index) => {
                    star.addEventListener('click', () => {
                        const ratingValue = index + 1;
                        const ratingType = rating.dataset.rating;
                        
                        // Update visual feedback
                        stars.forEach((s, i) => {
                            s.classList.toggle('active', i < ratingValue);
                        });
                        
                        // Store rating
                        rating.dataset.value = ratingValue;
                    });
                    
                    star.addEventListener('mouseover', () => {
                        stars.forEach((s, i) => {
                            s.classList.toggle('hover', i <= index);
                        });
                    });
                });
                
                rating.addEventListener('mouseleave', () => {
                    stars.forEach(s => s.classList.remove('hover'));
                });
            });
        }

        function selectAlternative(index, event) {
            if (event) event.stopPropagation();
            
            const alternatives = window.currentResults?.alternatives || [];
            const selected = alternatives[index];
            
            if (selected) {
                showToast(`Selected: ${selected.title}. Generating personalized implementation plan...`, 'success');
                
                // Store selection for tracking
                localStorage.setItem('selected_alternative', JSON.stringify({
                    feature: window.currentFeature,
                    alternative: selected,
                    timestamp: new Date().toISOString()
                }));
                
                // Generate personalized plan
                setTimeout(() => {
                    generatePersonalizedPlan(selected, index);
                }, 2000);
            }
        }

        function compareAlternative(index, event) {
            if (event) event.stopPropagation();
            
            const alternatives = window.currentResults?.alternatives || [];
            showComparisonModal(alternatives, index);
        }

        function showMoreInfo(index, event) {
            if (event) event.stopPropagation();
            
            const alternatives = window.currentResults?.alternatives || [];
            const alternative = alternatives[index];
            
            if (alternative) {
                showDetailedInfo(alternative);
            }
        }

        function generatePersonalizedPlan(selectedAlternative, index) {
            const planContent = `
                <div class="personalized-plan">
                    <h3>ðŸŽ¯ Your Personalized ${selectedAlternative.title} Plan</h3>
                    
                    <div class="plan-overview">
                        <div class="plan-confidence">
                            <span class="confidence-score">${selectedAlternative.confidence}%</span>
                            <small>AI Confidence Score</small>
                        </div>
                        <p>${selectedAlternative.description}</p>
                    </div>
                    
                    ${selectedAlternative.benefits ? `
                        <div class="plan-section">
                            <h4>âœ… Expected Benefits</h4>
                            <ul>
                                ${selectedAlternative.benefits.map(benefit => `<li>${benefit}</li>`).join('')}
                            </ul>
                        </div>
                    ` : ''}
                    
                    ${selectedAlternative.actions ? `
                        <div class="plan-section">
                            <h4>ðŸ“‹ Action Steps</h4>
                            <ol class="action-steps">
                                ${selectedAlternative.actions.map((action, i) => `
                                    <li>
                                        <span class="step-number">${i + 1}</span>
                                        <span class="step-text">${action}</span>
                                        <button class="mark-complete-btn" onclick="markStepComplete(${i})">
                                            <i class="fas fa-check"></i>
                                        </button>
                                    </li>
                                `).join('')}
                            </ol>
                        </div>
                    ` : ''}
                    
                    ${selectedAlternative.timeline ? `
                        <div class="plan-section">
                            <h4>â° Timeline</h4>
                            <p>${selectedAlternative.timeline}</p>
                        </div>
                    ` : ''}
                    
                    <div class="plan-actions">
                        <button class="plan-btn primary" onclick="savePersonalizedPlan()">
                            <i class="fas fa-save"></i> Save to My Health Plan
                        </button>
                        <button class="plan-btn secondary" onclick="shareWithDoctor()">
                            <i class="fas fa-user-md"></i> Share with Doctor
                        </button>
                        <button class="plan-btn secondary" onclick="setReminders()">
                            <i class="fas fa-bell"></i> Set Reminders
                        </button>
                    </div>
                </div>
            `;
            
            // Replace alternatives with personalized plan
            const alternativesContainer = document.querySelector('.alternatives-container');
            if (alternativesContainer) {
                alternativesContainer.innerHTML = planContent;
            }
            
            showToast('Personalized plan generated successfully!', 'success');
        }

        function showComparisonModal(alternatives, selectedIndex) {
            const modal = document.createElement('div');
            modal.className = 'comparison-modal show';
            modal.innerHTML = `
                <div class="comparison-content">
                    <div class="modal-header">
                        <h3>Compare Treatment Options</h3>
                        <button class="close-modal" onclick="closeComparisonModal()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="comparison-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Criteria</th>
                                    ${alternatives.map((alt, i) => `
                                        <th class="${i === selectedIndex ? 'selected-option' : ''}">
                                            ${alt.title}
                                            ${i === selectedIndex ? '<span class="selected-badge">Selected</span>' : ''}
                                        </th>
                                    `).join('')}
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Confidence</strong></td>
                                    ${alternatives.map(alt => `<td>${alt.confidence}%</td>`).join('')}
                                </tr>
                                <tr>
                                    <td><strong>Difficulty</strong></td>
                                    ${alternatives.map(alt => `<td>${alt.difficulty || alt.risk_level || 'N/A'}</td>`).join('')}
                                </tr>
                                <tr>
                                    <td><strong>Timeline</strong></td>
                                    ${alternatives.map(alt => `<td>${alt.duration || alt.timeframe || alt.timeline || 'N/A'}</td>`).join('')}
                                </tr>
                                <tr>
                                    <td><strong>Cost</strong></td>
                                    ${alternatives.map(alt => `<td>${alt.cost || 'N/A'}</td>`).join('')}
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="comparison-actions">
                        <button class="plan-btn primary" onclick="closeComparisonModal()">
                            <i class="fas fa-check"></i> Continue with Selected Option
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        function showDetailedInfo(alternative) {
            const detailModal = document.createElement('div');
            detailModal.className = 'comparison-modal show';
            detailModal.innerHTML = `
                <div class="comparison-content">
                    <div class="modal-header">
                        <h3>${alternative.title} - Detailed Information</h3>
                        <button class="close-modal" onclick="closeDetailModal()">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="detailed-info">
                        <div class="info-section">
                            <h4>Description</h4>
                            <p>${alternative.description}</p>
                        </div>
                        
                        ${alternative.benefits ? `
                            <div class="info-section">
                                <h4>Benefits</h4>
                                <ul>
                                    ${alternative.benefits.map(benefit => `<li>${benefit}</li>`).join('')}
                                </ul>
                            </div>
                        ` : ''}
                        
                        ${alternative.considerations ? `
                            <div class="info-section">
                                <h4>Important Considerations</h4>
                                <ul>
                                    ${alternative.considerations.map(consideration => `<li>${consideration}</li>`).join('')}
                                </ul>
                            </div>
                        ` : ''}
                        
                        <div class="info-section">
                            <h4>Research & Evidence</h4>
                            <p>This recommendation is based on current medical guidelines and research evidence. 
                            The confidence score of ${alternative.confidence}% reflects the strength of available evidence 
                            and applicability to your specific situation.</p>
                        </div>
                        
                        <div class="info-section">
                            <h4>Next Steps</h4>
                            <p>Consider discussing this option with your healthcare provider for personalized guidance 
                            and to ensure it's appropriate for your specific health condition and circumstances.</p>
                        </div>
                    </div>
                    
                    <div class="comparison-actions">
                        <button class="plan-btn primary" onclick="selectAlternativeFromModal('${alternative.title}')">
                            <i class="fas fa-check"></i> Select This Option
                        </button>
                        <button class="plan-btn secondary" onclick="closeDetailModal()">
                            <i class="fas fa-times"></i> Close
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(detailModal);
        }

        function closeComparisonModal() {
            const modal = document.querySelector('.comparison-modal');
            if (modal) {
                modal.classList.remove('show');
                setTimeout(() => modal.remove(), 300);
            }
        }

        function closeDetailModal() {
            closeComparisonModal(); // Same functionality
        }

        function markStepComplete(stepIndex) {
            const stepElement = document.querySelector(`.action-steps li:nth-child(${stepIndex + 1})`);
            if (stepElement) {
                stepElement.classList.toggle('completed');
                const btn = stepElement.querySelector('.mark-complete-btn');
                if (stepElement.classList.contains('completed')) {
                    btn.innerHTML = '<i class="fas fa-check-circle"></i>';
                    btn.style.color = 'var(--success-green)';
                } else {
                    btn.innerHTML = '<i class="fas fa-check"></i>';
                    btn.style.color = '';
                }
            }
        }

        function savePersonalizedPlan() {
            showToast('Health plan saved to your profile!', 'success');
            // In real app, save to user's health profile
        }

        function shareWithDoctor() {
            showToast('Plan shared with your healthcare provider!', 'success');
            // In real app, integrate with doctor communication system
        }

        function setReminders() {
            showToast('Reminders set for your action steps!', 'success');
            // In real app, set up notification system
        }

        // Global variables for current results (moved to avoid redeclaration)
        window.currentResults = null;
        window.currentFeature = '';

        function submitFeedback() {
            const accuracyRating = document.querySelector('[data-rating="accuracy"]').dataset.value || 0;
            const helpfulnessRating = document.querySelector('[data-rating="helpfulness"]').dataset.value || 0;
            const feedbackText = document.getElementById('feedback-text').value;
            
            // In a real app, this would send feedback to the server
            const feedback = {
                feature: currentFeature,
                accuracy: accuracyRating,
                helpfulness: helpfulnessRating,
                text: feedbackText,
                timestamp: new Date().toISOString()
            };
            
            console.log('Feedback submitted:', feedback);
            showToast('Thank you for your feedback! It helps us improve our AI recommendations.');
            
            // Store in localStorage for demo purposes
            const existingFeedback = JSON.parse(localStorage.getItem('ai_feedback') || '[]');
            existingFeedback.push(feedback);
            localStorage.setItem('ai_feedback', JSON.stringify(existingFeedback));
        }

        function analyzeAnswers() {
            // Enhanced AI analysis with multiple recommendations and feedback options
            const answers = userAnswers;
            let results = {
                score: '85%',
                focus: 'General Wellness',
                risk: 'Low',
                content: '<h3>Analysis Complete!</h3><p>Based on your responses, here are your personalized recommendations:</p>',
                alternatives: [],
                confidence: 85,
                feedback: {
                    accuracy: 4.5,
                    helpfulness: 4.2,
                    suggestions: []
                }
            };

            if (currentFeature === 'diet') {
                results = analyzeDietAnswers(answers);
            } else if (currentFeature === 'symptom') {
                results = analyzeSymptomAnswers(answers);
            } else if (currentFeature === 'medicine') {
                results = analyzeMedicineAnswers(answers);
            } else if (currentFeature === 'report') {
                results = analyzeHealthReportAnswers(answers);
            }

            // Add alternative recommendations for better efficiency
            results.alternatives = generateAlternativeRecommendations(currentFeature, answers);
            
            return results;
        }

        function generateAlternativeRecommendations(feature, answers) {
            const alternatives = [];
            
            if (feature === 'diet') {
                alternatives.push({
                    title: 'Mediterranean Diet Approach',
                    description: 'Focus on healthy fats, lean proteins, and whole grains with olive oil as primary fat source',
                    confidence: 92,
                    benefits: ['Heart health', 'Weight management', 'Brain function'],
                    duration: '3-6 months for results',
                    difficulty: 'Moderate'
                });
                alternatives.push({
                    title: 'Plant-Based Nutrition Plan',
                    description: 'Emphasize fruits, vegetables, legumes, and plant proteins for optimal health',
                    confidence: 88,
                    benefits: ['Disease prevention', 'Environmental impact', 'Digestive health'],
                    duration: '2-4 months for adaptation',
                    difficulty: 'Moderate to High'
                });
                alternatives.push({
                    title: 'Intermittent Fasting Protocol',
                    description: 'Time-restricted eating (16:8 method) for metabolic benefits and weight management',
                    confidence: 85,
                    benefits: ['Weight loss', 'Metabolic health', 'Mental clarity'],
                    duration: '4-8 weeks for adaptation',
                    difficulty: 'Moderate'
                });
                alternatives.push({
                    title: 'DASH Diet for Hypertension',
                    description: 'Dietary approach to stop hypertension with reduced sodium and increased nutrients',
                    confidence: 94,
                    benefits: ['Blood pressure reduction', 'Heart health', 'Stroke prevention'],
                    duration: '2-4 weeks for benefits',
                    difficulty: 'Easy to Moderate'
                });
                alternatives.push({
                    title: 'Ketogenic Low-Carb Approach',
                    description: 'High-fat, moderate-protein, low-carbohydrate diet for rapid weight loss',
                    confidence: 78,
                    benefits: ['Rapid weight loss', 'Appetite control', 'Mental focus'],
                    duration: '2-3 weeks for ketosis',
                    difficulty: 'High'
                });
            } else if (feature === 'symptom') {
                alternatives.push({
                    title: 'Conservative Home Management',
                    description: 'Rest, hydration, over-the-counter medications, and symptom monitoring',
                    confidence: 85,
                    timeframe: 'Monitor for 24-48 hours',
                    risk_level: 'Low',
                    actions: ['Rest', 'Hydrate', 'Monitor symptoms', 'OTC medications']
                });
                alternatives.push({
                    title: 'Immediate Medical Consultation',
                    description: 'Seek professional medical evaluation within 24 hours',
                    confidence: 90,
                    timeframe: 'Within 24 hours',
                    risk_level: 'Medium',
                    actions: ['Schedule appointment', 'Prepare symptom history', 'List medications']
                });
                alternatives.push({
                    title: 'Emergency Medical Attention',
                    description: 'Seek immediate emergency care due to concerning symptoms',
                    confidence: 95,
                    timeframe: 'Immediately',
                    risk_level: 'High',
                    actions: ['Call 911', 'Go to ER', 'Bring medication list', 'Contact family']
                });
                alternatives.push({
                    title: 'Lifestyle & Stress Management',
                    description: 'Address symptoms through stress reduction, sleep optimization, and lifestyle changes',
                    confidence: 70,
                    timeframe: '1-2 weeks for improvement',
                    risk_level: 'Low',
                    actions: ['Stress management', 'Sleep hygiene', 'Exercise', 'Meditation']
                });
                alternatives.push({
                    title: 'Specialist Referral Needed',
                    description: 'Primary care referral to specialist for specialized evaluation',
                    confidence: 82,
                    timeframe: '1-2 weeks',
                    risk_level: 'Medium',
                    actions: ['See primary care', 'Get referral', 'Prepare medical history', 'Insurance verification']
                });
            } else if (feature === 'medicine') {
                alternatives.push({
                    title: 'First-Line Medication Treatment',
                    description: 'Standard medication approach based on current guidelines',
                    confidence: 88,
                    safety: 'Well-established',
                    cost: 'Moderate',
                    considerations: ['Drug interactions', 'Side effects', 'Monitoring needed']
                });
                alternatives.push({
                    title: 'Generic Alternative Options',
                    description: 'Cost-effective generic medications with equivalent efficacy',
                    confidence: 85,
                    safety: 'Equivalent to brand',
                    cost: 'Low',
                    considerations: ['Insurance coverage', 'Bioequivalence', 'Patient preference']
                });
                alternatives.push({
                    title: 'Combination Therapy Approach',
                    description: 'Multiple medications for enhanced effectiveness',
                    confidence: 80,
                    safety: 'Requires monitoring',
                    cost: 'High',
                    considerations: ['Complex interactions', 'Enhanced monitoring', 'Compliance challenges']
                });
                alternatives.push({
                    title: 'Non-Pharmacological Treatment',
                    description: 'Lifestyle modifications and non-drug interventions',
                    confidence: 75,
                    safety: 'Very safe',
                    cost: 'Low',
                    considerations: ['Patient motivation', 'Time to effect', 'Lifestyle changes required']
                });
            } else if (feature === 'report') {
                alternatives.push({
                    title: 'Comprehensive Wellness Plan',
                    description: 'Holistic approach addressing diet, exercise, sleep, and stress management',
                    confidence: 90,
                    focus_areas: ['Nutrition', 'Physical activity', 'Sleep quality', 'Stress management'],
                    timeline: '6-12 months for optimal results'
                });
                alternatives.push({
                    title: 'Targeted Health Improvement',
                    description: 'Focus on 1-2 key health areas for maximum impact',
                    confidence: 85,
                    focus_areas: ['Primary health concern', 'Secondary prevention'],
                    timeline: '3-6 months for measurable results'
                });
                alternatives.push({
                    title: 'Preventive Health Strategy',
                    description: 'Emphasis on disease prevention and health maintenance',
                    confidence: 88,
                    focus_areas: ['Screening', 'Vaccination', 'Risk factor modification'],
                    timeline: 'Ongoing with annual reviews'
                });
                alternatives.push({
                    title: 'Integrative Health Approach',
                    description: 'Combination of conventional and complementary health strategies',
                    confidence: 75,
                    focus_areas: ['Medical care', 'Alternative therapies', 'Mind-body practices'],
                    timeline: '3-9 months for comprehensive benefits'
                });
            }
            
            return alternatives;
        }

        function analyzeDietAnswers(answers) {
            // Calculate BMI if weight and height are provided
            let bmi = 0;
            let bmiCategory = '';
            if (answers[3] && answers[4]) { // weight and height
                const weight = answers[3];
                const height = answers[4] / 100; // convert cm to m
                bmi = (weight / (height * height)).toFixed(1);
                
                if (bmi < 18.5) bmiCategory = 'Underweight';
                else if (bmi < 25) bmiCategory = 'Normal weight';
                else if (bmi < 30) bmiCategory = 'Overweight';
                else bmiCategory = 'Obese';
            }

            const goal = answers[0] || 'General health';
            const activityLevel = answers[5] || 'Moderately active';
            const restrictions = answers[6] || 'None';

            return {
                score: '92%',
                focus: 'Nutrition & Weight Management',
                risk: 'Low',
                content: `
                    <h3>Your Personalized Diet Plan</h3>
                    ${bmi > 0 ? `<p><strong>Your BMI:</strong> ${bmi} (${bmiCategory})</p>` : ''}
                    <p><strong>Primary Goal:</strong> ${goal}</p>
                    <p><strong>Activity Level:</strong> ${activityLevel}</p>
                    <p><strong>Dietary Restrictions:</strong> ${restrictions}</p>
                    
                    <h4>Recommended Daily Intake:</h4>
                    <ul>
                        <li>ðŸ¥— <strong>Vegetables:</strong> 5-7 servings daily</li>
                        <li>ðŸŽ <strong>Fruits:</strong> 2-3 servings daily</li>
                        <li>ðŸ— <strong>Protein:</strong> 1.2-1.6g per kg body weight</li>
                        <li>ðŸŒ¾ <strong>Whole grains:</strong> 3-4 servings daily</li>
                        <li>ðŸ’§ <strong>Water:</strong> 8-10 glasses daily</li>
                    </ul>
                    
                    <h4>Meal Planning Tips:</h4>
                    <ul>
                        <li>Plan meals around your ${goal.toLowerCase()} goal</li>
                        <li>Include protein in every meal</li>
                        <li>Choose complex carbohydrates over simple sugars</li>
                        <li>Eat regular meals to maintain energy levels</li>
                        <li>Consider meal prep to save time</li>
                    </ul>
                    
                    <h4>Next Steps:</h4>
                    <ul>
                        <li>Start with small, sustainable changes</li>
                        <li>Track your food intake for the first week</li>
                        <li>Consult with a registered dietitian for detailed planning</li>
                        <li>Monitor your progress weekly</li>
                    </ul>
                `
            };
        }

        function analyzeSymptomAnswers(answers) {
            const primarySymptom = answers[0] || 'General concern';
            const onset = answers[1] || 'Recent';
            const severity = answers[2] || 5;
            const progression = answers[3] || 'Staying the same';

            let urgency = 'Low';
            let recommendations = [];

            if (severity >= 8) {
                urgency = 'High';
                recommendations.push('Seek immediate medical attention');
            } else if (severity >= 6) {
                urgency = 'Moderate';
                recommendations.push('Schedule appointment with healthcare provider within 1-2 days');
            } else {
                urgency = 'Low';
                recommendations.push('Monitor symptoms and consider seeing healthcare provider if they worsen');
            }

            return {
                score: '96%',
                focus: 'Symptom Management',
                risk: urgency,
                content: `
                    <h3>Your Symptom Analysis</h3>
                    <p><strong>Primary Symptom:</strong> ${primarySymptom}</p>
                    <p><strong>Onset:</strong> ${onset}</p>
                    <p><strong>Severity:</strong> ${severity}/10</p>
                    <p><strong>Progression:</strong> ${progression}</p>
                    <p><strong>Urgency Level:</strong> ${urgency}</p>
                    
                    <h4>Recommendations:</h4>
                    <ul>
                        ${recommendations.map(rec => `<li>ðŸ”¹ ${rec}</li>`).join('')}
                        <li>ðŸ”¹ Keep a symptom diary to track changes</li>
                        <li>ðŸ”¹ Note any triggers or patterns</li>
                        <li>ðŸ”¹ Stay hydrated and get adequate rest</li>
                        <li>ðŸ”¹ Avoid self-medication without professional guidance</li>
                    </ul>
                    
                    <h4>When to Seek Immediate Care:</h4>
                    <ul>
                        <li>ðŸš¨ Symptoms suddenly worsen</li>
                        <li>ðŸš¨ Difficulty breathing or chest pain</li>
                        <li>ðŸš¨ Severe pain or high fever</li>
                        <li>ðŸš¨ Signs of allergic reaction</li>
                        <li>ðŸš¨ Loss of consciousness or confusion</li>
                    </ul>
                    
                    <p><strong>Disclaimer:</strong> This analysis is for informational purposes only and does not replace professional medical advice. Always consult with a healthcare provider for proper diagnosis and treatment.</p>
                `
            };
        }

        function analyzeMedicineAnswers(answers) {
            const condition = answers[0] || 'General health concern';
            const age = answers[1] || 'Not specified';
            const currentMeds = answers[3] || 'None';
            const allergies = answers[4] || 'None';
            const severity = answers[7] || 5;

            return {
                score: '94%',
                focus: 'Medication Safety',
                risk: 'Low',
                content: `
                    <h3>Your Medication Consultation</h3>
                    <p><strong>Condition:</strong> ${condition}</p>
                    <p><strong>Current Medications:</strong> ${currentMeds}</p>
                    <p><strong>Known Allergies:</strong> ${allergies}</p>
                    <p><strong>Severity:</strong> ${severity}/10</p>
                    
                    <h4>General Medication Guidelines:</h4>
                    <ul>
                        <li>ðŸ’Š Always take medications as prescribed</li>
                        <li>ðŸ’Š Complete the full course of antibiotics</li>
                        <li>ðŸ’Š Don't share medications with others</li>
                        <li>ðŸ’Š Store medications properly</li>
                        <li>ðŸ’Š Check expiration dates regularly</li>
                    </ul>
                    
                    <h4>Drug Interaction Considerations:</h4>
                    <ul>
                        <li>ðŸ” Always inform healthcare providers of all medications</li>
                        <li>ðŸ” Include over-the-counter drugs and supplements</li>
                        <li>ðŸ” Use one pharmacy for all prescriptions when possible</li>
                        <li>ðŸ” Ask about food and alcohol interactions</li>
                    </ul>
                    
                    <h4>Next Steps:</h4>
                    <ul>
                        <li>ðŸ“‹ Consult with a healthcare provider for proper diagnosis</li>
                        <li>ðŸ“‹ Discuss treatment options and preferences</li>
                        <li>ðŸ“‹ Review all current medications for interactions</li>
                        <li>ðŸ“‹ Create a medication schedule if needed</li>
                    </ul>
                    
                    <p><strong>Important:</strong> This consultation is for educational purposes only. Always consult with a licensed healthcare provider or pharmacist before starting, stopping, or changing any medications.</p>
                `
            };
        }

        function analyzeHealthReportAnswers(answers) {
            // Calculate BMI
            let bmi = 0;
            let bmiCategory = '';
            if (answers[2] && answers[3]) { // weight and height
                const weight = answers[2];
                const height = answers[3] / 100;
                bmi = (weight / (height * height)).toFixed(1);
                
                if (bmi < 18.5) bmiCategory = 'Underweight';
                else if (bmi < 25) bmiCategory = 'Normal weight';
                else if (bmi < 30) bmiCategory = 'Overweight';
                else bmiCategory = 'Obese';
            }

            const age = answers[0] || 'Not specified';
            const sleepHours = answers[6] || 'Not specified';
            const exerciseDays = answers[8] || 0;
            const stressLevel = answers[10] || 5;
            const healthSatisfaction = answers[20] || 5;

            // Calculate health score
            let healthScore = 70; // Base score
            
            if (bmi >= 18.5 && bmi < 25) healthScore += 10;
            if (sleepHours >= 7 && sleepHours <= 9) healthScore += 10;
            if (exerciseDays >= 3) healthScore += 10;
            if (stressLevel <= 5) healthScore += 5;
            if (healthSatisfaction >= 7) healthScore += 5;

            let riskLevel = 'Low';
            if (healthScore < 70) riskLevel = 'High';
            else if (healthScore < 85) riskLevel = 'Moderate';

            return {
                score: `${healthScore}%`,
                focus: 'Comprehensive Wellness',
                risk: riskLevel,
                content: `
                    <h3>Your Comprehensive Health Report</h3>
                    
                    <h4>Health Metrics:</h4>
                    <ul>
                        <li>ðŸ“Š <strong>Overall Health Score:</strong> ${healthScore}%</li>
                        ${bmi > 0 ? `<li>âš–ï¸ <strong>BMI:</strong> ${bmi} (${bmiCategory})</li>` : ''}
                        <li>ðŸ˜´ <strong>Sleep:</strong> ${sleepHours} hours per night</li>
                        <li>ðŸƒ <strong>Exercise:</strong> ${exerciseDays} days per week</li>
                        <li>ðŸ˜° <strong>Stress Level:</strong> ${stressLevel}/10</li>
                        <li>ðŸ˜Š <strong>Health Satisfaction:</strong> ${healthSatisfaction}/10</li>
                    </ul>
                    
                    <h4>Key Recommendations:</h4>
                    <ul>
                        ${sleepHours < 7 ? '<li>ðŸ›ï¸ Aim for 7-9 hours of sleep per night</li>' : ''}
                        ${exerciseDays < 3 ? '<li>ðŸƒ Increase physical activity to at least 3 days per week</li>' : ''}
                        ${stressLevel > 7 ? '<li>ðŸ§˜ Consider stress management techniques like meditation or yoga</li>' : ''}
                        ${bmi > 25 ? '<li>âš–ï¸ Consider weight management strategies</li>' : ''}
                        <li>ðŸ¥— Maintain a balanced diet rich in fruits and vegetables</li>
                        <li>ðŸ’§ Stay adequately hydrated</li>
                        <li>ðŸš­ Avoid smoking and limit alcohol consumption</li>
                    </ul>
                    
                    <h4>Preventive Care:</h4>
                    <ul>
                        <li>ðŸ¥ Schedule regular health checkups</li>
                        <li>ðŸ©º Stay up to date with recommended screenings</li>
                        <li>ðŸ’‰ Keep vaccinations current</li>
                        <li>ðŸ¦· Maintain regular dental care</li>
                        <li>ðŸ‘ï¸ Get regular eye exams</li>
                    </ul>
                    
                    <h4>Action Plan:</h4>
                    <ul>
                        <li>ðŸ“… Set specific, measurable health goals</li>
                        <li>ðŸ“± Consider using health tracking apps</li>
                        <li>ðŸ‘¥ Build a support network for healthy habits</li>
                        <li>ðŸ“š Continue learning about health and wellness</li>
                        <li>ðŸŽ¯ Focus on one improvement area at a time</li>
                    </ul>
                `
            };
        }

        // Action functions
        function downloadReport() {
            showToast('Report download started! Check your downloads folder.');
            // In a real application, this would generate and download a PDF report
        }

        function shareResults() {
            showToast('Results copied to clipboard! You can now share them.');
            // In a real application, this would copy results to clipboard or open sharing options
        }

        function scheduleFollowup() {
            showToast('Redirecting to appointment scheduling...');
            // In a real application, this would redirect to appointment booking
            setTimeout(() => {
                window.location.href = 'user-appointments.html';
            }, 2000);
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Any initialization code can go here
        });
    </script>
</body>
</html> 